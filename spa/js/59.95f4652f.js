(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{"189b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"q-account-settings"}},[s("q-ajax-bar",{ref:"bar",staticClass:"bg-rev",attrs:{position:"top",size:"5px","skip-hijack":""}}),s("TopHeader"),s("div",{staticClass:"container px-0 main-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-sm-4 col-12"},[s("SideNavProfile")],1),s("div",{staticClass:"col-lg-9 col-sm-8 col-12"},[s("div",{staticClass:"ui-block"},[t._m(0),t.fetching?t._e():s("div",{staticClass:"ui-block-content p-4"},[t._l(t.area_interests,(function(e,a){return s("div",{},[s("div",{staticClass:"text-h6"},[t._v(t._s(a))]),s("q-select",{staticClass:"q-pl-md",attrs:{options:t.new_area_interests_options[a],multiple:"",color:"black","emit-value":""},on:{add:function(e){return t.add(e,a)},remove:function(e){return t.remove(e,a)}},model:{value:t.new_area_interests[a],callback:function(e){t.$set(t.new_area_interests,a,e)},expression:"new_area_interests[i]"}})],1)})),s("div",{staticClass:"row q-mt-xl"},[s("div",{staticClass:"text-center col col-6"},[s("button",{staticClass:"btn btn-lg w-100 rev-btn rev-btn-text",attrs:{type:"button",flat:""},on:{click:function(e){return t.onSave()}}},[t.loading?s("span",[s("i",{staticClass:"fa-2x fas fa-spinner fa-spin"})]):s("div",[t._v("Save all Changes")])])]),s("div",{staticClass:"text-center col col-6"},[s("button",{staticClass:"btn btn-lg w-100 rev-btn rev-btn-text",attrs:{type:"button",flat:""},on:{click:function(e){return t.userDetails()}}},[t._v("\n                  Cancel Changes\n                ")])])])],2)])])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui-block-title"},[s("h6",{staticClass:"title"},[t._v("Content Preferences")])])}],i=s("2f62"),r=s("57e1"),o=s("2aee"),l={name:"ContentPreferences",data(){return{fetching:!0,loading:!1,area_interests:{},new_area_interests:{"Art & Culture":[],Entertainment:[],"Fashion & Beauty":[],Technology:[],Sports:[],Science:[]},new_area_interests_options:{},art_culture:[],entertainment:[],fashion_beauty:[],technology:[],sports:[],science:[],modelMultiple:[]}},components:{SideNavProfile:o["a"],TopHeader:r["a"]},mounted(){this.userDetails()},methods:{...Object(i["b"])("user",["getProfileInfo","userActions","accountSetting"]),changeCheck(t,e){1==t.target.checked?this[e]=!0:this[e]=!1},updateValue(t,e,s){let a=this.area_interests[e].findIndex((e=>e.label==t));a>=0&&(this.area_interests[e][a].value=s)},add(t,e){this.updateValue(t.value,e,!0)},remove(t,e){this.updateValue(t.value,e,!1)},userDetails(){this.$refs.bar.start(),this.getProfileInfo({user_id:this.$q.localStorage.getItem("rev_user").userId}).then((t=>{if(this.$refs.bar.stop(),t.status){const e=JSON.parse(t.results.user.content_preference);this.area_interests=JSON.parse(t.results.area_interests);for(const t in this.area_interests){this.new_area_interests[t]=[],this.new_area_interests_options[t]=[];for(const s in this.area_interests[t]){const a=this.area_interests[t][s];for(const n in e.area_interests[t]){const i=e.area_interests[t][n];if(i.label==a.label){this.new_area_interests_options[t].push(a.label),i.value&&this.new_area_interests[t].push(a.label),this.area_interests[t][s].value=i.value;break}}}}this.fetching=!1}})).catch((t=>{}))},onSave(){this.loading=!0;let t={content_preference:JSON.stringify({area_interests:this.area_interests})};this.accountSetting(t).then((t=>{this.loading=!1,this.$revfunc.notification(t.message)})).catch((t=>{}))}}},c=l,u=s("2877"),_=s("7ea5"),h=s("ddd8"),d=s("eebe"),f=s.n(d),v=Object(u["a"])(c,a,n,!1,null,"27551a14",null);e["default"]=v.exports;f()(v,"components",{QAjaxBar:_["a"],QSelect:h["a"]})}}]);