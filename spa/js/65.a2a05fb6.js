(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{ecf7:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"q-account-settings"}},[s("q-ajax-bar",{ref:"bar",staticClass:"bg-rev",attrs:{position:"top",size:"5px","skip-hijack":""}}),s("TopHeader"),s("div",{staticClass:"container px-0 main-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-sm-4 col-12"},[s("SideNavProfile")],1),s("div",{staticClass:"col-lg-9 col-sm-8 col-12"},[s("div",{staticClass:"ui-block"},[t._m(0),s("div",{staticClass:"ui-block-content p-4"},[t._l(t.array,(function(i){return[s("div",{staticClass:"description-toggle"},[s("div",{staticClass:"description-toggle-content"},[s("div",{staticClass:"h6"},[t._v(t._s(i.text))])]),s("div",{staticClass:"togglebutton"},[s("label",[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.push_notification[i.key]},on:{change:function(s){return t.changeCheck(s,i.key)}}}),s("span",{staticClass:"toggle"})])])]),s("hr")]})),s("div",{staticClass:"row q-mt-xl"},[s("div",{staticClass:"col col-md-12 col-sm-12 col-12"},[s("button",{staticClass:"btn btn-primary btn-lg full-width rev-btn rev-btn-text",attrs:{type:"button",flat:""},on:{click:function(i){return t.onSubmit()}}},[t.loading?s("span",[s("i",{staticClass:"fa-2x fas fa-spinner fa-spin"})]):s("div",[t._v("Save all Changes")])])])])],2)])])])])],1)},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"ui-block-title"},[s("h6",{staticClass:"title"},[t._v("Push Notification")])])}],o=s("2f62"),n=s("57e1"),c=s("2aee"),r={name:"PushNotifications",data(){return{array:[{key:"fav_follows",text:"Favorite Follows"},{key:"re_rev",text:"Re-Revs"},{key:"responses",text:"Responses"},{key:"reactions",text:"Reactions"},{key:"pvt_msg_notification",text:"Private Message Notification"},{key:"new_follower",text:"New Followers"},{key:"tagged",text:"Tagging in Revs/Photos"},{key:"rev_notification",text:"Notification from REV"}],loading:!1,notification:{},push_notification:{}}},components:{SideNavProfile:c["a"],TopHeader:n["a"]},mounted(){this.array.map((t=>{this.push_notification[t.key]=!1})),this.userDetails()},methods:{...Object(o["b"])("user",["getProfileInfo","userActions","accountSetting"]),changeCheck(t,i){1==t.target.checked?this.push_notification[i]=!0:this.push_notification[i]=!1},userDetails(){this.$refs.bar.start(),this.getProfileInfo({user_id:this.$q.localStorage.getItem("rev_user").userId}).then((t=>{this.$refs.bar.stop(),t.status&&(this.notification=JSON.parse(t.results.user.notification),this.push_notification=this.notification.push_notification)})).catch((t=>{}))},onSubmit(){this.loading=!0,this.notification["push_notification"]={},this.array.map((t=>{this.notification["push_notification"][t.key]=this.push_notification[t.key]})),this.accountSetting({notification:JSON.stringify(this.notification)}).then((t=>{this.loading=!1,this.$revfunc.notification(t.message)})).catch((t=>{}))}}},l=r,f=s("2877"),h=s("7ea5"),u=s("eebe"),p=s.n(u),d=Object(f["a"])(l,e,a,!1,null,null,null);i["default"]=d.exports;p()(d,"components",{QAjaxBar:h["a"]})}}]);