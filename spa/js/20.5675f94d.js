(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"11ab":function(t,s,e){},"89fc":function(t,s,e){"use strict";e("11ab")},ce59:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"card container featured-post main-content",staticStyle:{"min-height":"800px"}},[e("q-ajax-bar",{ref:"bar",staticClass:"bg-rev",attrs:{position:"top",size:"5px","skip-hijack":""}}),e("div",{staticClass:"card q-px-md q-py-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"text-h4"},[t._v("Featured Posts")]),e("q-space"),e("button",{staticClass:"q-mt-sm btn rev-btn rev-btn-text",on:{click:function(s){return s.stopPropagation(),function(){return t.$revfunc.goBack()}.apply(null,arguments)}}},[t._v("\n        Go Back\n      ")])],1)]),e("hr",{staticClass:"mt-0"}),t.fetched?e("div",{staticClass:"row"},t._l(t.posts,(function(s,a){return e("div",{key:a,staticClass:"q-mb-md col col-4 card-height"},[e("PostsCard",{attrs:{post:s,isEnabled:!1,isEdit:!1},on:{"update:key":t.updateNewsfeedKey}}),e("div",[e("button",{staticClass:"w-100 btn rev-btn rev-btn-text",on:{click:function(e){return e.stopPropagation(),t.selectPreview(s)}}},[t._v("\n          Promote this REV\n        ")])])],1)})),0):t._e()],1)},o=[],i=e("2f62"),r=e("64c1"),n={name:"FeaturedPost",data(){return{fetched:!1,username:this.$q.localStorage.getItem("rev_user").username,posts:[]}},components:{PostsCard:r["a"]},mounted(){this.getUserDetails()},methods:{...Object(i["b"])("user",["getPostsByUserId"]),selectPreview(t){this.$q.localStorage.has("ad_for_post")&&this.$q.localStorage.remove("ad_for_post"),this.$q.localStorage.set("ad_for_post",t),this.$q.localStorage.has("ad_init")&&this.$q.localStorage.remove("ad_init"),this.$q.localStorage.set("ad_init",{type:"post",id:t.id_post}),this.$router.push("/create-ad")},getUserDetails(){this.$refs.bar.start();let t={start:0};this.getPostsByUserId(t).then((t=>{this.$refs.bar.stop(),this.fetched=!0,t.status&&(this.posts=t.results)})).catch((t=>{}))},updateNewsfeedKey(t){let s=this.posts.filter((s=>s.id_post==t.id_post)).length;for(let e=this.posts.length-1;e>=0;e--)if(this.posts[e].id_post==t.id_post&&(this.posts[e][t.key]=t.value,s--),!s)break}}},c=n,l=(e("89fc"),e("2877")),d=e("7ea5"),p=e("2c91"),u=e("eebe"),h=e.n(u),f=Object(l["a"])(c,a,o,!1,null,"0f81ecd8",null);s["default"]=f.exports;h()(f,"components",{QAjaxBar:d["a"],QSpace:p["a"]})}}]);