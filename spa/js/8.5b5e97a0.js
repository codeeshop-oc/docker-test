(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"35a15":function(t,s,e){},"41d4":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"bg-landing",attrs:{id:"joinrev"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row display-flex q-pt-xl"},[e("div",{staticClass:"col col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[e("div",{staticClass:"landing-content text-rev-secondary"},[e("img",{staticStyle:{width:"125px"},attrs:{src:"/img/home-logo.png",alt:"REV"}}),e("div",[t._v("\n            Redefining social media "),e("br"),t._v("through a balanced exchange of ideas & freedom of expression.\n          ")]),e("div",{staticClass:"q-my-md text-bold pointer",on:{click:function(){t.ACTIVE_BLOCK("register")}}},[t._v("\n            Join "),e("span",{staticClass:"text-rev"},[t._v("REV")]),t._v(" today!\n          ")]),e("div",{staticClass:"q-pt-md q-my-xl",staticStyle:{"font-size":"16px"}},[e("div",{staticClass:"q-mb-lg delayedShow"},[t._v(" Why "),e("b",[t._v("REV ?")])]),e("div",{staticClass:"q-mb-lg delayedShow1"},[t._v(" Because,")]),e("div",{staticClass:"roboto-italic",staticStyle:{"font-style":"italic"}},[e("div",{staticClass:"delayedShow2"},[t._v("We Don't censor lawful speech")]),e("div",{staticClass:"delayedShow3"},[t._v("We Don't track your online activities")]),e("div",{staticClass:"delayedShow4"},[t._v("We Don't store, share and sell your personal data")])])])])]),e("div",{staticClass:"col col-xl-5 col-lg-6 col-md-12 col-sm-12 col-12 q-mb-xl"},[e("div",{staticClass:"registration-login-form"},[e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:"login"==t.enable_form?"bg-grey-6 text-white":"",on:{click:function(){t.ACTIVE_BLOCK("login")}}},[e("img",{staticClass:"icon-rev-sm",attrs:{src:"/img/icons/primary/common/user.png"}})])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:"register"==t.enable_form?"bg-grey-6 text-white":"",on:{click:function(){t.ACTIVE_BLOCK("register")}}},[e("img",{staticClass:"icon-rev-sm",attrs:{src:"/img/icons/primary/common/user-1.png"}})])])]),e("div",{staticClass:"tab-content"},["login"==t.enable_form?e("div",{staticClass:"tab-panel login-card"},[e("div",{staticClass:"title h6"},[t._v("Member Login")]),e("Signin")],1):t._e(),"register"==t.enable_form?e("div",{staticClass:"tab-panel register-card active",attrs:{id:"home",role:"tabpanel"}},[e("div",{staticClass:"title h6"},[t._v("REV Registration")]),e("Signup")],1):t._e()])])])])]),e("footer",[e("div",{staticClass:"sticky-bottom text-center text-span w-100 text-bold pointer",on:{click:function(){return t.$router.push("/help-support/terms-of-service")}}},[e("span",{staticClass:"text-rev"},[t._v("REV")]),t._v(" Terms of Services & Policies 2022\n    ")])])])},a=[],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("q-form",{staticClass:"content",on:{submit:t.onSubmit,reset:t.onReset}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},[e("div",[e("q-input",{staticClass:"bg-rev-input",attrs:{color:"grey",outlined:"",label:"Username / Mobile Number","lazy-rule":"",rules:[function(t){return t&&t.length>0}]},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}})],1),e("div",[e("q-input",{staticClass:"bg-rev-input rev-pass",attrs:{color:"grey",outlined:"",type:t.isPwd?"password":"text",label:"Password","lazy-rules":"",rules:[function(t){return t&&t.length>0}]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"c-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),e("div",{staticClass:"remember"},[e("div",{staticClass:"checkbox"},[e("label",[e("input",{attrs:{name:"optionsCheckboxes",type:"checkbox"}}),e("span",{staticClass:"checkbox-material"},[e("span",{staticClass:"check"})]),t._v("\n              Remember Me\n            ")])]),e("a",{staticClass:"forgot",on:{click:function(){return t.forgot_pass_dlg=!0}}},[t._v("\n            Forgot Password?\n          ")])]),e("button",{staticClass:"text-capitalize rev-btn-primary full-width q-pa-sm no-border",attrs:{type:"submit",align:"center"}},[t.submitting?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("span",[e("b",[t._v("Log In")])])]),e("div",{staticClass:"text-span q-mt-md text-center"},[t._v("Don't have an account?")]),e("div",{staticClass:"text-center q-mt-md"},[e("button",{staticClass:"text-capitalize q-py-sm q-px-xl no-border",staticStyle:{"background-image":"radial-gradient(closest-side at 50% 50%, rgba(189, 188, 188, 0.6), rgba(85, 83, 83, 0.6))",color:"#fff"},on:{click:function(){t.ACTIVE_BLOCK("register")}}},[e("b",[t._v("Create an Account!")])])])])])]),e("q-dialog",{attrs:{persistent:""},model:{value:t.forgot_pass_dlg,callback:function(s){t.forgot_pass_dlg=s},expression:"forgot_pass_dlg"}},[e("q-card",{staticClass:"q-pa-md",staticStyle:{"min-width":"400px"}},[e("q-list",{staticClass:"q-py-",attrs:{bordered:""}},[e("q-item",[e("q-item-section",{staticClass:"text-h6"},[t._v("Forgot Password")]),e("q-item-section",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{cursor:"pointer"},attrs:{avatar:""}},[e("q-icon",{attrs:{color:"primary",name:"fa fa-times"}})],1)],1)],1),e("q-card-section",{staticClass:"q-pt-md"},[e("q-form",{staticClass:"content",on:{submit:t.onForgotPassword}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},[e("div",[e("VueTelInput",{staticClass:"bg-rev-input mb-3",attrs:{color:"grey",placeholder:"Mobile Number",preferredCountries:["us","gb"]},on:{onInput:t.onInput,input:t.onInput},model:{value:t.mobile,callback:function(s){t.mobile=s},expression:"mobile"}})],1),e("button",{staticClass:"text-capitalize btn-primary full-width bg-rev q-pa-sm no-border",attrs:{type:"submit",align:"center"}},[t.submitting?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("span",[e("b",[t._v("Submit")])])]),e("p",{staticClass:"text-center q-mt-md"},[t._v("Go Back to  \n                "),e("a",{staticClass:"link",on:{click:function(){t.forgot_pass_dlg=!1,t.ACTIVE_BLOCK("login")}}},[t._v("\n                  Login\n                ")])])])])])],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.reset_pass_dlg,callback:function(s){t.reset_pass_dlg=s},expression:"reset_pass_dlg"}},[e("q-card",{staticClass:"q-pa-md",staticStyle:{"min-width":"400px"}},[e("q-list",{staticClass:"q-py-",attrs:{bordered:""}},[e("q-item",[e("q-item-section",{staticClass:"text-h6"},[t._v("Reset Password")]),e("q-item-section",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{cursor:"pointer"},attrs:{avatar:""}},[e("q-icon",{attrs:{color:"primary",name:"fa fa-times"}})],1)],1)],1),e("q-card-section",{staticClass:"q-pt-md"},[e("q-form",{staticClass:"content",on:{submit:t.onSubmitResetPass}},[e("div",{staticClass:"q-pa-xs q-mb-sm text-left text-weight-normal"},[t._v("\n            Please enter your OTP (Passcode) and new Password\n          ")]),e("div",[e("q-input",{staticClass:"bg-rev-input",attrs:{color:"grey",outlined:"","lazy-rule":"",rules:[function(t){return t&&t.length>0}],label:"Code"},model:{value:t.reset_otp,callback:function(s){t.reset_otp=s},expression:"reset_otp"}})],1),e("div",[e("q-input",{staticClass:"bg-rev-input rev-pass",attrs:{color:"grey",outlined:"","lazy-rule":"",rules:[function(t){return t&&t.length>0}],type:t.isPwd?"password":"text",label:"New Password"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"c-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.new_password,callback:function(s){t.new_password=s},expression:"new_password"}})],1),e("div",{staticClass:"q-mt-md text-center"},[e("q-btn",{staticClass:"btn btn-primary full-width",attrs:{flat:"",type:"submit"}},[t.reset_submitting?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("span",[t._v("Submit")])])],1)])],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.twofactor_dlg,callback:function(s){t.twofactor_dlg=s},expression:"twofactor_dlg"}},[e("q-card",{staticClass:"q-pa-md",staticStyle:{"min-width":"400px"}},[e("q-list",{staticClass:"q-py-",attrs:{bordered:""}},[e("q-item",[e("q-item-section",{staticClass:"text-h6"},[t._v("Two Factor Verification")]),e("q-item-section",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{cursor:"pointer"},attrs:{avatar:""}},[e("q-icon",{attrs:{color:"primary",name:"fa fa-times"}})],1)],1)],1),e("q-card-section",{staticClass:"q-pt-md"},[e("q-form",{staticClass:"content",on:{submit:t.onSubmitTwoFactorAuth}},[e("div",{staticClass:"q-pa-xs q-mb-sm text-left text-weight-normal"},[t._v("\n            Please enter your OTP (Passcode)\n          ")]),e("div",[e("q-input",{staticClass:"bg-rev-input",attrs:{color:"grey",outlined:"","lazy-rule":"",rules:[function(t){return t&&t.length>0}],label:"Code"},model:{value:t.twofactor_otp,callback:function(s){t.twofactor_otp=s},expression:"twofactor_otp"}})],1),e("div",{staticClass:"q-mt-md text-center"},[e("q-btn",{staticClass:"btn btn-primary full-width",attrs:{flat:"",type:"submit"}},[t.twofactor_submitting?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("span",[t._v("Submit")])])],1)])],1)],1)],1)],1)},o=[],n=e("2f62"),l=e("f62e"),c={name:"Login",data(){return{dial_code:"",forgot_pass_dlg:!1,twofactor_dlg:!1,reset_pass_dlg:!1,submitting:!1,reset_submitting:!1,forgot_submitting:!1,twofactor_submitting:!1,username:"",mobile:"",password:"",isPwd:!0,height:screen.height,created_at:new Date,forgot_userid:null,reset_otp:"",new_password:"",temp_userid:null,twofactor_otp:null}},components:{VueTelInput:l["a"]},computed:{},mounted(){this.getFCMToken()},methods:{...Object(n["d"])("auth",["ACTIVE_BLOCK"]),...Object(n["d"])("user",["GET_UPDATED_DETAILS","UPDATE_USER"]),...Object(n["b"])("auth",["login","logout","resetPasswordRequest","authenticatorOTP","resetPassword"]),getFCMToken(){this.$webfirebase&&this.$webfirebase.getToken({vapidKey:"BJyDBN1pnVgtT7rl2Du7FhXm1FVd-LZKsotVV128_qY_EVmiuYUTxsyDIiEKmu_JQIy_phQFo8IIP2JVIVs94GQ"}).then((t=>{t?(this.$q.localStorage.set("fcm_token",t),logger("debug",t,"currentToken")):logger("debug","No registration token available. Request permission to generate one.")})).catch((t=>{logger("debug","An error occurred while retrieving token. ",t)}))},onInput({number:t,isValid:s,country:e}){"undefined"!=typeof e.dialCode&&(this.dial_code=e.dialCode)},onSubmit(){this.submitting=!0;let t={email:this.username,fcm_token:this.$q.localStorage.getItem("fcm_token"),password:this.password};this.login(t).then((t=>{try{this.submitting=!1,t.status?(this.UPDATE_USER(t.results),this.GET_UPDATED_DETAILS(!0),document.body.className+=" th-rev--"+JSON.parse(t.results.appearance).theme,"undefined"==typeof this.$route.query.back_url?this.$router.push("/home"):this.$router.push(this.$route.query.back_url)):(t.two_step&&(this.temp_userid=t.data,this.twofactor_dlg=!0),this.$revfunc.notification(t.message))}catch(s){logger("debug","Error: ",s)}})).catch((t=>{this.submitting=!1,this.$revfunc.notification(t.message)}))},onReset(){this.username=null,this.password=null,this.forgot_userid=null,this.reset_otp=null,this.new_password=null},onForgotPassword(){this.forgot_submitting=!0;let t={mobile:this.mobile,dial_code:this.dial_code};this.resetPasswordRequest(t).then((t=>{this.onReset(),this.forgot_submitting=!1,t.status?(this.$revfunc.notification(t.message),this.forgot_pass_dlg=!1,this.reset_pass_dlg=!0,this.forgot_userid=t.results):this.$revfunc.notification(t.message)})).catch((t=>{this.forgot_submitting=!1}))},onSubmitResetPass(){this.reset_submitting=!0;let t={user_id:this.forgot_userid,otp:this.reset_otp,new_password:this.new_password};this.resetPassword(t).then((t=>{this.onReset(),this.reset_submitting=!1,t.status?(this.$revfunc.notification(t.message),this.reset_pass_dlg=!1):this.$revfunc.notification(t.message)})).catch((t=>{this.reset_submitting=!1}))},onSubmitTwoFactorAuth(){this.twofactor_submitting=!0;let t={fcm_token:this.$q.localStorage.getItem("fcm_token"),user_id:this.temp_userid,otp:this.twofactor_otp};this.authenticatorOTP(t).then((t=>{this.onReset(),this.twofactor_submitting=!1,this.$revfunc.notification(t.message),t.status&&(this.UPDATE_USER(t.results),this.twofactor_dlg=!1,this.twofactor_submitting=!1,this.GET_UPDATED_DETAILS(!0),this.$router.push("/home"))})).catch((t=>{this.reset_submitting=!1}))}}},u=c,d=(e("baad"),e("2877")),m=e("0378"),p=e("27f9"),h=e("0016"),f=e("24e8"),b=e("f09f"),g=e("1c1c"),_=e("66e5"),v=e("4074"),w=e("a370"),C=e("9c40"),q=e("7f67"),y=e("eebe"),x=e.n(y),k=Object(d["a"])(u,r,o,!1,null,null,null),P=k.exports;x()(k,"components",{QForm:m["a"],QInput:p["a"],QIcon:h["a"],QDialog:f["a"],QCard:b["a"],QList:g["a"],QItem:_["a"],QItemSection:v["a"],QCardSection:w["a"],QBtn:C["a"]}),x()(k,"directives",{ClosePopup:q["a"]});var S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("q-form",{directives:[{name:"click-register",rawName:"v-click-register"}],staticClass:"content",on:{submit:t.onSubmit}},[e("div",[e("q-input",{staticClass:"bg-rev-input q-pb-xs",attrs:{color:"grey",outlined:"",label:t.$t("placeholder.profile_name"),"lazy-rule":"",rules:[function(t){return!!t},t.isValidProfileName]},model:{value:t.user.profile_name,callback:function(s){t.$set(t.user,"profile_name",s)},expression:"user.profile_name"}})],1),e("div",[e("q-input",{staticClass:"bg-rev-input q-pb-xs",attrs:{color:"grey",outlined:"",label:t.$t("placeholder.firstname"),"lazy-rule":"",rules:[function(t){return!!t},t.isValidFirstName]},model:{value:t.user.firstname,callback:function(s){t.$set(t.user,"firstname",s)},expression:"user.firstname"}})],1),e("div",[e("q-input",{staticClass:"bg-rev-input q-pb-xs",attrs:{color:"grey",outlined:"",label:t.$t("placeholder.lastname"),"lazy-rule":"",rules:[function(t){return!!t},t.isValidLastName]},model:{value:t.user.lastname,callback:function(s){t.$set(t.user,"lastname",s)},expression:"user.lastname"}})],1),e("div",{staticClass:"q-mb-md",attrs:{id:"usernameDiv"}},[e("q-input",{staticClass:"bg-rev-input",attrs:{color:"grey",outlined:"",label:t.$t("placeholder.username"),rules:[function(s){return s.length>0&&!t.username_error}],"bottom-slots":""},on:{input:function(s){return t.checkUsername()},change:function(s){return t.checkUser("username",t.user.username)}},scopedSlots:t._u([{key:"error",fn:function(){return[e("div",{staticClass:"hints q-mx-sm",class:t.username_error?"error":0==t.username_error?"success":""},[t._v("Username must contain more than 4 characters:"),e("br"),t._v("can contain letters (a-z), numbers (0-9), underscore (_) and periods (.)")])]},proxy:!0},{key:"hint",fn:function(){return[e("div",{staticClass:"hints q-mx-sm",class:t.username_error?"error":0==t.username_error?"success":""},[t._v("Username must contain more than 4 characters:"),e("br"),t._v("can contain letters (a-z), numbers (0-9), underscore (_) and periods (.)")])]},proxy:!0}]),model:{value:t.user.username,callback:function(s){t.$set(t.user,"username",s)},expression:"user.username"}}),e("br")],1),e("div",{staticClass:"q-mb-sm"},[e("VueTelInput",{staticClass:"bg-rev-input q-pb-xs",attrs:{color:"grey",placeholder:"Mobile Number",preferredCountries:["us","gb"]},on:{onInput:t.onInput},model:{value:t.user.phone,callback:function(s){t.$set(t.user,"phone",s)},expression:"user.phone"}})],1),e("div",[e("q-input",{staticClass:"bg-rev-input q-pb-xs",attrs:{type:"text",color:"grey",mask:"##/##/####",outlined:"",label:"Date of Birth (MM/DD/YYYY)","lazy-rule":"",rules:[function(t){return t&&t.length>0}]},on:{change:function(s){return t.checkAge()}},model:{value:t.user.dob,callback:function(s){t.$set(t.user,"dob",s)},expression:"user.dob"}})],1),e("div",{staticClass:"q-mb-lg",attrs:{id:"passwordDiv"}},[e("q-input",{staticClass:"bg-rev-input rev-pass q-mb-md",attrs:{color:"grey",outlined:"",type:t.isPwd?"password":"text",label:"Password","lazy-rule":"",rules:[function(s){return s.length>0&&!t.password_error}],"bottom-slots":""},on:{input:function(s){return t.checkPassword()}},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"c-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0},{key:"error",fn:function(){return[e("div",{staticClass:"hints q-mx-sm",class:t.password_error?"error":0==t.password_error?"success":""},[t._v(t._s(t.passwordHint))])]},proxy:!0},{key:"hint",fn:function(){return[e("div",{staticClass:"hints q-mx-sm",class:t.password_error?"error":0==t.password_error?"success":""},[t._v(t._s(t.passwordHint))])]},proxy:!0}]),model:{value:t.user.password,callback:function(s){t.$set(t.user,"password",s)},expression:"user.password"}})],1),e("div",{staticClass:"q-pt-sm"},[e("q-input",{staticClass:"bg-rev-input rev-pass q-pb-sm",attrs:{color:"grey",outlined:"",type:t.isCnfPwd?"password":"text",label:"Confirm Password","lazy-rule":"",rules:[function(t){return t&&t.length>0}]},on:{change:function(s){return t.checkPasswordMismatch("confirm_password",t.user.confirm_password)}},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"c-pointer",attrs:{name:t.isCnfPwd?"visibility_off":"visibility"},on:{click:function(s){t.isCnfPwd=!t.isCnfPwd}}})]},proxy:!0}]),model:{value:t.user.confirm_password,callback:function(s){t.$set(t.user,"confirm_password",s)},expression:"user.confirm_password"}})],1),e("div",{staticClass:"remember"},[e("div",{staticClass:"checkbox"},[e("label",[e("input",{attrs:{name:"optionsCheckboxes",type:"checkbox"},on:{change:t.check}}),e("span",{staticClass:"checkbox-material"},[e("span",{staticClass:"check"})]),t._v("\n          I accept the\n          "),e("a",{staticClass:"link",on:{click:function(){return t.$router.push("help-support/terms-of-service")}}},[t._v("\n            Terms and Services\n          ")]),t._v("\n          of REV\n        ")])])]),e("div",{staticClass:"q-py-md"},[e("button",{staticClass:"text-capitalize btn-primary full-width bg-rev q-pa-sm no-border",attrs:{disabled:!t.user.terms_condition,type:"submit",align:"center"}},[t._v("\n        Create Account\n      ")])]),e("div",{staticClass:"text-center q-mt-lg"},[e("button",{staticClass:"text-capitalize btn-primary q-py-sm q-px-xl bg-rev-secondary no-border",on:{click:function(){t.ACTIVE_BLOCK("login")}}},[e("b",[t._v("Log In")])])])]),e("q-dialog",{attrs:{persistent:""},model:{value:t.otp_dlg,callback:function(s){t.otp_dlg=s},expression:"otp_dlg"}},[e("q-card",{staticClass:"q-pa-md",staticStyle:{"min-width":"400px"}},[e("q-list",{staticClass:"q-py-",attrs:{bordered:""}},[e("q-item",[e("q-item-section",{staticClass:"text-h6"},[t._v("Enter OTP (Passcode)")]),e("q-item-section",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{cursor:"pointer"},attrs:{avatar:""}},[e("q-icon",{attrs:{color:"primary",name:"fa fa-times"}})],1)],1)],1),e("q-card-section",{staticClass:"q-pt-md"},[e("q-form",{on:{submit:t.onSubmitOTPVerification}},[e("div",{staticClass:"q-mt-lg q-px-md"},[e("q-input",{staticClass:"bg-rev-input q-pb-none",attrs:{color:"grey",outlined:"",label:"Enter OTP","lazy-rule":"",rules:[function(t){return t&&t.length>0}]},model:{value:t.otp,callback:function(s){t.otp=s},expression:"otp"}})],1),e("div",{staticClass:"text-caption q-py-sm row q-px-md"},[t._v("\n            Didn't receive your code? "),e("br"),e("a",{staticClass:"text-subtitle2 q-pl-md",on:{click:function(s){return t.resend()}}},[t._v("\n              Resend new code\n            ")])]),e("div",[e("button",{staticClass:"text-capitalize btn-primary btn-lg full-width",attrs:{type:"submit",align:"center"}},[t._v("\n              Verify Mobile\n            ")])])])],1)],1)],1)],1)},$=[],T=e("29e0"),V={name:"Register",mixins:[T["a"]],data(){return{username_error:null,password_error:null,otp_dlg:!1,otp:null,isPwd:!0,isCnfPwd:!0,isValidPhone:!1,passwordHint:this.$t("error.password"),user:{profile_name:"",firstname:"",lastname:"",username:"",phone:"",password:"",dial_code:"1",confirm_password:"",otp:"",terms_condition:!1,dob:""}}},components:{VueTelInput:l["a"]},mounted(){"undefined"!=typeof this.$route.query.vid&&(this.otp_dlg=!0,this.$q.sessionStorage.set("verification_id",this.$route.query.vid))},methods:{...Object(n["b"])("auth",["register","checkUniqueUser","verifyMobile","resendOTP"]),...Object(n["d"])("auth",["ACTIVE_BLOCK"]),...Object(n["d"])("user",["UPDATE_USER"]),checkAge(){let t=this.$revfunc.calculateAge(this.user.dob);t<17&&(this.$revfunc.notification("You must be at least 17 years of age to become a member of REV"),this.user.dob=null)},check(t){this.user.terms_condition=t.target.checked},checkPasswordMismatch(t,s){if("confirm_password"==t&&s!=this.user.password)return this.$revfunc.notification("Password Mismatch"),void(this.user[t]="")},isValidProfileName(){return this.user.profile_name.trim().length},isValidFirstName(){return this.isValidAlphabets(this.user.firstname)},isValidLastName(){return this.isValidAlphabets(this.user.lastname)},isValidAlphabets(t){const s=/^[a-zA-Z ]{1,64}$/;return s.test(t)},checkUsername(){const t=this.user.username;return 1==this.isValidUsername(t)&&t.length>=5?this.username_error=!1:this.username_error=!0,this.username_error},checkPassword(){const t=this.user.password;return 1==this.isValidPassword(t)?this.password_error=!1:this.password_error=!0,this.password_error},checkUser(t,s){let e={key:t,value:s};"username"==e.key&&this.checkUsername()?this.username_error=!0:(this.username_error=!1,this.$q.loading.show(),this.checkUniqueUser(e).then((t=>{t.status&&(this.username_error=!0,this.$revfunc.notification(t.message)),this.$q.loading.hide()})).catch((t=>{})))},onSubmit(){this.isSubmitValidPhone(this.user.phone)&&!this.checkPassword()&&(delete this.user["isPWD"],this.register({user:this.user}).then((t=>{t.status&&(this.$q.sessionStorage.set("verification_id",t.results),this.otp_dlg=!0),this.$revfunc.notification(t.message)})).catch((t=>{})))},resend(){this.resendOTP({user_id:this.$q.sessionStorage.getItem("verification_id")}).then((t=>{this.$revfunc.notification(t.message)})).catch((t=>{}))},onSubmitOTPVerification(){let t={otp:this.otp,user_id:this.$q.sessionStorage.getItem("verification_id")};this.verifyMobile(t).then((t=>{t.status&&(this.UPDATE_USER(t.results),this.$q.localStorage.set("_r",t._rtoken),this.$q.sessionStorage.remove("verification_id"),window.location="/home",this.$router.push("/home")),this.$revfunc.notification(t.message)})).catch((t=>{}))},onReset(){this.user.profile_name=null,this.user.firstname=null,this.user.lastname=null,this.user.username=null,this.user.phone=null,this.user.dial_code="1",this.user.password=null,this.user.confirm_password=null,this.user.terms_condition=!1}}},E=V,I=(e("4763"),e("ddd8")),A=e("8f8e"),O=e("8572"),D=e("b498"),U=Object(d["a"])(E,S,$,!1,null,null,null),R=U.exports;x()(U,"components",{QForm:m["a"],QInput:p["a"],QSelect:I["a"],QIcon:h["a"],QCheckbox:A["a"],QDialog:f["a"],QCard:b["a"],QList:g["a"],QItem:_["a"],QItemSection:v["a"],QCardSection:w["a"],QField:O["a"],QColor:D["a"]}),x()(U,"directives",{ClosePopup:q["a"]});var Q={name:"JoinRev",data(){return{enable:"login",tab:"login",gender_options:["Male","Female","Prefer not to answer"],isPwd:!0,isCnfPwd:!0,user:{firstname:"",lastname:"",username:"",gender:"",email:"",phone:"",dob:"",password:"",confirm_password:"",terms_condition:!1}}},components:{Signin:P,Signup:R},computed:{...Object(n["e"])("auth",["enable_form"]),isValidEmail(t){const s=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return s.test(t)||"Invalid email"}},mounted(){"undefined"!=typeof this.$route.query.vid&&this.ACTIVE_BLOCK("register")},methods:{...Object(n["b"])("auth",["register","checkUniqueUser"]),...Object(n["d"])("auth",["ACTIVE_BLOCK"]),checkUser(t,s){this.$q.loading.show();let e={key:t,value:s};this.checkUniqueUser(e).then((s=>{s.status&&(this.user[t]="",this.$revfunc.notification(s.message,{actions:[{icon:"close",color:"white"}]})),this.$q.loading.hide()})).catch((t=>{}))},onSubmit(){delete this.user["isPWD"],this.register({user:this.user}).then((t=>{t.status?(this.$revfunc.notification(t.message,{actions:[{icon:"close",color:"white"}]}),this.$router.push("/verify-mobile")):this.$revfunc.notification(t.message,{actions:[{icon:"close",color:"white"}]})})).catch((t=>{}))}}},z=Q,L=(e("945b"),e("9989")),F=Object(d["a"])(z,i,a,!1,null,null,null);s["default"]=F.exports;x()(F,"components",{QPage:L["a"],QCheckbox:A["a"],QField:O["a"]})},4763:function(t,s,e){"use strict";e("6189")},"4f7f":function(t,s,e){},6189:function(t,s,e){},"945b":function(t,s,e){"use strict";e("4f7f")},baad:function(t,s,e){"use strict";e("35a15")}}]);