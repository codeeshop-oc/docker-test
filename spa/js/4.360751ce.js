(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2b9d":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"q-chat-listing"}},[s("q-ajax-bar",{ref:"bar",staticClass:"bg-rev",attrs:{position:"top",size:"5px","skip-hijack":""}}),s("div",{staticClass:"px-0 container main-content"},[s("div",{staticClass:"row q-pt-sm"},[s("div",{staticClass:"col col-md-12 col-12"},[s("div",{staticClass:"ui-block"},[s("div",{staticClass:"ui-block-title"},[s("h6",{staticClass:"title"},[e._v("REVchat")]),s("div",{staticStyle:{float:"right"}},[s("a",{staticClass:"q-px-sm",on:{click:function(t){e.new_chat_memberid=[],e.search_user="",e.dialog=!0,e.msg_type="group"},mouseover:function(t){return e.hover("newgroup","iconnewgroup",t)},mouseout:function(t){return e.unhover("newgroup","iconnewgroup",t)}}},[s("img",{ref:"iconnewgroup",staticClass:"icon-rev-md-small",attrs:{src:"/img/icons/primary/common/newgroup.png"}}),s("q-tooltip",{attrs:{offset:[0,0]}},[e._v("\n                   Start Group Chat\n                 ")])],1),s("a",{on:{click:function(t){e.new_chat_memberid=[],e.search_user="",e.dialog=!0,e.msg_type=""},mouseover:function(t){return e.hover("newdm","iconnewdm",t)},mouseout:function(t){return e.unhover("newdm","iconnewdm",t)}}},[s("img",{ref:"iconnewdm",staticClass:"icon-rev-md-small",attrs:{src:"/img/icons/primary/common/newdm.png"}}),s("q-tooltip",{attrs:{offset:[0,0]}},[e._v("\n                   New Message\n                 ")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-xl-5 col-lg-6 col-md-12 col-sm-12 col-12 padding-r-0"},[s("ul",{staticClass:"notification-list chat-message",attrs:{id:"sideChatListing"}},e._l(e.friends_message_list,(function(t,i){return 0==t.groupType?s("li",{key:i+"_friends_message_list",staticClass:"chat-group c-pointer",class:e.isActive==t.groupId?"active":"",attrs:{id:"sidelistmsg_"+t.groupId},on:{click:function(s){return e.activeChat(t)}}},[s("div",{staticClass:"author-thumb"},[s("img",{staticClass:"rounded avatar-thumb-sm",attrs:{loading:"lazy",alt:"Group Image",src:t.groupImage?t.groupImage:e.$revfunc.baseurl()+"assets/images/logo.png"}})]),s("div",{staticClass:"notification-event",class:t.pendingMessage>0?"not-seen":""},[s("a",{staticClass:"h6 notification-friend msg-ellipsis",domProps:{innerHTML:e._s(t.groupName)}}),s("span",{staticClass:"chat-message-item formatted-text msg-ellipsis d-list-item",domProps:{innerHTML:e._s(t.recentMessage)}})]),s("span",{staticClass:"notification-icon",class:t.pendingMessage>0?"not-seen":""},[t.pendingMessage>0?s("img",{staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/common/envelope.png"}}):s("img",{staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/common/envelopeopen.png"}})]),s("div",{staticClass:"more"},[s("span",{staticStyle:{color:"#515365"}},[e._v("\n                       "+e._s(e.$revfunc.localeTime(t.messageDateTime))+"\n                     ")])])]):s("li",{key:t.groupId,staticClass:"c-pointer",class:e.isActive==t.groupId?"active":"",attrs:{id:"sidelistmsg_"+t.groupId},on:{click:function(s){return e.activeChat(t)}}},[e._l(t.members,(function(t,i){return s("div",{key:i,staticClass:"author-thumb relative-position"},[s("img",{staticClass:"rounded avatar-thumb-sm",attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.profile_img,t.userId),alt:"author"}}),"none"!=t.badge?s("img",{staticClass:"revbadge-msg",staticStyle:{position:"absolute",right:"-8px",bottom:"-4px"},attrs:{src:"none"!=t.badge?"/img/badges/"+t.badge+".png":"",alt:"author"}}):e._e()])})),s("div",{staticClass:"notification-event",class:t.pendingMessage>0?"not-seen":""},[s("a",{staticClass:"h6 notification-friend"},[e._v(e._s(t.groupName))]),s("span",{staticClass:"chat-message-item formatted-text msg-ellipsis",domProps:{innerHTML:e._s(t.recentMessage)}}),s("span",{staticClass:"notification-date"},[s("time",{staticClass:"entry-date updated",attrs:{datetime:t.messageDateTime,"data-lazy-load-time":t.messageDateTime}})])]),s("span",{staticClass:"notification-icon",class:t.pendingMessage>0?"not-seen":""},[t.pendingMessage>0?s("img",{staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/common/envelope.png"}}):s("img",{staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/common/envelopeopen.png"}})]),s("div",{staticClass:"more"},[s("span",{staticStyle:{color:"#515365"}},[e._v("\n                       "+e._s(e.$revfunc.localeTime(t.messageDateTime))+"\n                     ")])])],2)})),0)]),s("div",{staticClass:"col col-xl-7 col-lg-6 col-md-12 col-sm-12 col-12 padding-l-0",attrs:{id:"sidechatbox"}},[s("div",{staticClass:"chat-field"},[s("div",{staticClass:"ui-block-title"},[1==e.selected_user.groupType?s("div",[s("div",{staticClass:"author vcard inline-items mb-0"},[e._l(e.selected_user.members,(function(t,i){return s("div",{key:i,staticClass:"inline-flex"},[s("div",{staticClass:"relative-position"},[s("img",{staticClass:"rounded avatar-thumb-sm c-pointer",attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.profile_img,t.userId),alt:t.username}}),"none"!=t.badge?s("img",{staticClass:"revbadge-msg",staticStyle:{position:"absolute",right:"-8px",bottom:"-4px"},attrs:{src:"none"!=t.badge?"/img/badges/"+t.badge+".png":"",alt:"author"}}):e._e()]),s("div",{staticClass:"author-date q-ml-sm",on:{click:function(){return e.$router.push("/"+t.username)}}},[s("a",{staticClass:"h6 post__author-name fn",on:{click:function(){return e.$router.push("/"+t.username)}}},[e._v("\n                             "+e._s(t.profile_name)+"\n                             "),0==t.parent_post_id?s("span",[e._v("\n                               "+e._s(t.lastname)+"\n                             ")]):e._e()]),s("br"),s("span",{staticClass:"text-rev"},[e._v("@"+e._s(t.username))])])])})),s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("info","iconinfo",t,!0)},mouseout:function(t){return e.unhover("info","iconinfo",t,!0)},click:function(){return e.group_info_dlg=!0}}},[s("img",{ref:"iconinfo",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/info.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Info\n                         ")])],1),1==e.selected_user.mute?s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("dmmute","icondmmute",t,!0)},mouseout:function(t){return e.unhover("dmmute","icondmmute",t,!0)},click:function(t){return e.onMuteRoom(e.selected_user.groupId,0)}}},[s("img",{ref:"icondmmute",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/dmmute.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Unmute\n                         ")])],1):s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("dmunmute","icondmunmute",t,!0)},mouseout:function(t){return e.unhover("dmunmute","icondmunmute",t,!0)},click:function(t){return e.onMuteRoom(e.selected_user.groupId,1)}}},[s("img",{ref:"icondmunmute",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/dmunmute.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Mute\n                         ")])],1)],2)]):e._e(),0==e.selected_user.groupType?s("div",[s("div",{staticClass:"author vcard inline-items mb-0"},[s("img",{staticClass:"rounded avatar-thumb-sm c-pointer",attrs:{src:e.selected_user.groupImage?e.selected_user.groupImage:e.$revfunc.baseurl()+"assets/images/logo.png"}}),s("div",{staticClass:"author-date q-px-sm"},[s("a",{staticClass:"h6 post__author-name fn"},[e._v("\n                           "+e._s(e._f("ellipsis")(e.selected_user.groupName,60))+"\n                         ")]),s("div",e._l(e.selected_user.members,(function(t,i){return i<3?s("span",{key:i},[e._v("\n                             "+e._s(t.profile_name)+e._s(e.$revfunc.isLastOne(e.selected_user.members.length,i,2)?",":"")+"\n                           ")]):e._e()})),0)]),s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("info","iconinfo",t)},mouseout:function(t){return e.unhover("info","iconinfo",t)},click:function(){return e.group_info_dlg=!0}}},[s("img",{ref:"iconinfo",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/info.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Info\n                         ")])],1),1==e.selected_user.mute?s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("dmmute","icondmmute",t,!0)},mouseout:function(t){return e.unhover("dmmute","icondmmute",t,!0)},click:function(t){return e.onMuteRoom(e.selected_user.groupId,0)}}},[s("img",{ref:"icondmmute",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/dmmute.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Unmute\n                         ")])],1):s("a",{staticClass:"more q-mt-sm q-mr-md",staticStyle:{float:"right"},on:{mouseover:function(t){return e.hover("dmunmute","icondmunmute",t,!0)},mouseout:function(t){return e.unhover("dmunmute","icondmunmute",t,!0)},click:function(t){return e.onMuteRoom(e.selected_user.groupId,1)}}},[s("img",{ref:"icondmunmute",staticStyle:{height:"25px","max-width":"25px"},attrs:{src:"/img/icons/primary/common/dmunmute.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                           Mute\n                         ")])],1)])]):e._e()]),e.loading_msg?s("div",{staticClass:"q-pt-lg text-center loading-block"},[s("img",{staticClass:"fa-spin",attrs:{src:"/img/icons/primary/common/spin-clock.png"}}),s("div",{staticClass:"q-mt-md text-p"},[e._v("Loading Messages....")])]):s("div",{staticClass:"myscrollelement"},[0==e.reverse_messages.length?s("div",{staticClass:"q-px-md text-center"},[s("img",{staticStyle:{width:"40%"},attrs:{src:"/img/no_chat_history.png"}}),s("div",{staticClass:"text-p"},[e._v(e._s(e.no_chat_text))])]):s("div",[s("q-infinite-scroll",{ref:"chatScroll",staticClass:"q-px-md",attrs:{offset:100,reverse:"","scroll-target":".myscrollelement"},on:{load:e.onLoad},scopedSlots:e._u([{key:"loading",fn:function(){return[s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[s("div",{staticClass:"container message-list-parent",class:e.curr_selected_message?"q-pb-xl":"q-pb-xs"},[e.loading_msg?s("div",{staticClass:"text-center text-h6 q-mt-xl"},[s("i",{staticClass:"fa fa-spin fa-spinner text-rev",staticStyle:{"font-size":"48px"}})]):e._e(),e._l(e.reverse_messages,(function(t,i){return s("div",{key:t.message.m_id,staticClass:"q-pl-md message-list",class:e.getMessageClass(t,i)},["update"==t.message.type?s("q-chat-message",{staticClass:"rev-bg-secondary",attrs:{label:t.message.message}}):e._e(),"text"==t.message.type&&(e.hasLightBoxImages(JSON.parse(t.message.image_gallery))||e.hasLightBoxVideos(JSON.parse(t.message.video_gallery))||""!=t.message.message)?s("div",{staticClass:"container"},[t.message.id_msg_parent>0?[t.message.msg_parent?s("div",{staticClass:"col-12 q-pl-md q-pr-xl parent-message q-my-sm relative-position",attrs:{id:"parent_"+t.message.m_id}},[s("div",{staticClass:"username"},[e._v("\n                                 @"+e._s(t.message.msg_parent.username)+"\n                               ")]),s("div",{staticClass:"ui-block q-pa-sm mb-1"},[s("span",{staticClass:"formatted-text",domProps:{innerHTML:e._s(e.convertedText(t.message.msg_parent.message))}}),e.hasLightBoxImages(JSON.parse(t.message.msg_parent.image_gallery))?s("div",{staticClass:"q-pb-md h-200",staticStyle:{"min-width":"180px"}},[s("VueLightboxAdvanced",{staticClass:"full-height-inside",attrs:{cells:3,items:e.getLightBoxImages(JSON.parse(t.message.msg_parent.image_gallery)),css:"h-200"},on:{"clicked:index":function(s){e.onClicked(s,e.getLightBoxImages(JSON.parse(t.message.msg_parent.image_gallery)))}}})],1):e._e(),e.hasLightBoxVideos(JSON.parse(t.message.msg_parent.video_gallery))?s("div",{staticClass:"reply-media-block"},e._l(JSON.parse(t.message.msg_parent.video_gallery),(function(e,t){return s("RevPlayer",{key:t,attrs:{obj_video:{type:e.mediaType,poster:e.poster,src:e.link},settings:{events:!0,autoplay:!0,fullscreen:!0}}})})),1):e._e(),s("img",{class:t.sender.userId==e.userId?"sentCurve":"receivedCurve",staticStyle:{position:"absolute",bottom:"-40px",width:"35%"},attrs:{src:t.sender.userId==e.userId?"/img/icons/primary/"+e.mode+"/curve_right.png":"/img/icons/primary/"+e.mode+"/curve_left.png"}})]),s("div",{staticClass:"q-mx-lg text-rev",class:t.sender.userId==e.userId?"text-left":"text-right"},[e._v("\n                                 1 reply\n                               ")])]):e._e()]:e._e(),t.sender.userId==e.userId?[s("div",{staticClass:"row q-mt-xs",staticStyle:{"justify-content":"space-between"}},[s("div",{}),s("div",{staticClass:"col-sm-9",attrs:{id:"message_"+t.message.m_id}},[s("div",{staticClass:"q-px-md revchat-sent"},[0==t.message.is_deleted?s("div",{staticClass:"more mr-0 text-right m-auto",staticStyle:{height:"initial"},on:{mouseover:function(t){return e.hover("more-dropdown","iconmoredropdown",t,!1)},mouseout:function(t){return e.unhover("more-dropdown","iconmoredropdown",t,!1)}}},[s("img",{ref:"iconmoredropdown",refInFor:!0,staticStyle:{height:"initial","border-radius":"initial","margin-right":"0",width:"28px"},attrs:{src:"/img/icons/primary/"+e.mode+"/more-dropdown.png"}}),s("ul",{staticClass:"ui-block more-dropdown postcard"},[s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.doReply(t)}}},[e._v("\n                                           Reply\n                                         ")])]),t.message.message?s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.textCopy(t.message.message)}}},[e._v("\n                                           Copy Text\n                                         ")])]):e._e(),s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.doTxtMsgDel(t.message,0)}}},[e._v("\n                                           Delete\n                                         ")])]),s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.doTxtMsgDel(t.message,1)}}},[e._v("\n                                           Delete for everyone\n                                         ")])])])]):e._e(),t.message.message?s("div",[s("div",{staticClass:"formatted-text q-py-sm",domProps:{innerHTML:e._s(e.convertedText(t.message.message))}}),s("div",{staticClass:"q-pb-sm"},[t.message.preview_details?s("ChatLinkPreview",{attrs:{preview_details:t.message.preview_details,openSinglePage:!0}}):e._e()],1)]):e._e(),0==t.message.is_deleted&&e.hasLightBoxImages(JSON.parse(t.message.image_gallery))?s("div",{staticClass:"q-pb-md",staticStyle:{height:"200px"}},[s("VueLightboxAdvanced",{staticClass:"full-height-inside",attrs:{cells:3,items:e.getLightBoxImages(JSON.parse(t.message.image_gallery)),css:"h-200"},on:{"clicked:index":function(s){e.onClicked(s,e.getLightBoxImages(JSON.parse(t.message.image_gallery)))}}})],1):e._e(),e.hasLightBoxVideos(JSON.parse(t.message.video_gallery))?s("div",{staticClass:"reply-media-block"},e._l(JSON.parse(t.message.video_gallery),(function(e,t){return s("RevPlayer",{key:t,attrs:{obj_video:{type:e.mediaType,poster:e.poster,src:e.link},settings:{events:!0,autoplay:!0,fullscreen:!0}}})})),1):e._e()])])]),s("div",{staticClass:"row q-mt-xs",staticStyle:{"justify-content":"space-between"}},[s("div",{staticClass:"col-sm-3"}),s("div",{staticClass:"col-sm-9 pr-0",attrs:{id:"time_message_"+t.message.m_id}},[s("div",{staticClass:"row w-100",staticStyle:{display:"inline-flex"}},[s("div",{staticClass:"col-sm-6 timestamp q-mb-sm"},[e._v("\n                                     "+e._s(e.$revfunc.localeTime(t.message.date_time))+"\n                                   ")]),null!=t.seen?s("div",{staticClass:"col-sm-6 text-right read-status pr-0",on:{click:function(s){s.stopPropagation(),e.seen_popup_open=!0,e.seen_other_props={m_id:t.message.m_id}}}},[s("div",{staticClass:"q-mr-xs c-pointer"},[e._v(e._s(t.seen.seen))]),s("ul",{staticClass:"friends-harmonic"},e._l(t.seen.seen_users,(function(t,i){return s("li",{key:i},[s("a",[s("img",{staticClass:"full-height full-width",attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.profile_img,t.userId),alt:"friend"}})])])})),0)]):e._e()])])])]:[s("div",{staticClass:"row msg-space",class:t.message.id_msg_parent>0?"has-parent":""},[s("div",{staticClass:"col-sm-9",attrs:{id:"message_"+t.message.m_id}},[s("div",{staticClass:"q-px-md revchat-received"},[s("span",{staticClass:"username chat-thumb-text chat-thumb",on:{click:function(s){return e.goRoute("/"+t.sender.username)}}},[e._v("\n                                     @"+e._s(t.sender.username)+"\n                                   ")]),s("div",{staticClass:"chat-thumb relative-position"},[s("img",{staticStyle:{"border-radius":"4px"},attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.sender.profile_img,t.sender.userId)},on:{click:function(s){return e.goRoute("/"+t.sender.username)}}}),"none"!=t.sender.badge?s("img",{staticClass:"revbadge-msg",staticStyle:{position:"absolute",right:"-8px",bottom:"0"},attrs:{src:"none"!=t.sender.badge?"/img/badges/"+t.sender.badge+".png":""}}):e._e()]),s("div",{staticClass:"more mr-0 m-auto text-right",on:{mouseover:function(t){return e.hover("more-dropdown","iconmoredropdown",t,!1)},mouseout:function(t){return e.unhover("more-dropdown","iconmoredropdown",t,!1)}}},[s("img",{ref:"iconmoredropdown",refInFor:!0,staticStyle:{height:"initial","border-radius":"initial","margin-right":"0",width:"28px"},attrs:{src:"/img/icons/primary/"+e.mode+"/more-dropdown.png"}}),s("ul",{staticClass:"ui-block more-dropdown postcard chat-left-dropdown"},[s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.doReply(t)}}},[e._v("\n                                           Reply\n                                         ")])]),t.message.message?s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.textCopy(t.message.message)}}},[e._v("\n                                           Copy Text\n                                         ")])]):e._e(),s("li",[t.message.is_reported?s("a",[e._v("Reported")]):s("a",{on:{click:function(s){s.stopPropagation(),e.report_message_id=t.message.m_id,e.report_message_dlg=!0}}},[e._v("Report REV")])]),s("li",[s("a",{on:{click:function(s){return s.stopPropagation(),e.doTxtMsgDel(t.message,0)}}},[e._v("\n                                           Delete\n                                         ")])])])]),t.message.message?s("div",[s("div",{staticClass:"formatted-text q-pt-sm q-pb-md",domProps:{innerHTML:e._s(e.convertedText(t.message.message))}}),s("div",{staticClass:"q-pb-sm"},[t.message.preview_details?s("ChatLinkPreview",{attrs:{preview_details:t.message.preview_details,openSinglePage:!0}}):e._e()],1)]):e._e(),0==t.message.is_deleted&&e.hasLightBoxImages(JSON.parse(t.message.image_gallery))?s("div",{staticStyle:{height:"200px"}},[e._o(s("VueLightboxAdvanced",{staticClass:"full-height-inside",attrs:{cells:3,items:e.getLightBoxImages(JSON.parse(t.message.image_gallery)),css:"h-200"},on:{"clicked:index":function(s){e.onClicked(s,e.getLightBoxImages(JSON.parse(t.message.image_gallery)))}}}),0,t.message.m_id)],1):e._e(),e.hasLightBoxVideos(JSON.parse(t.message.video_gallery))?s("div",{staticClass:"reply-media-block"},e._l(JSON.parse(t.message.video_gallery),(function(e,t){return s("RevPlayer",{key:t,attrs:{obj_video:{type:e.mediaType,poster:e.poster,src:e.link},settings:{events:!0,autoplay:!0,fullscreen:!0}}})})),1):e._e()]),s("div",{staticClass:"timestamp"},[e._v("\n                                   "+e._s(e.$revfunc.localeTime(t.message.date_time))+"\n                                 ")])])])]],2):e._e()],1)}))],2)])],1)]),e._l(e.filter_queue,(function(t,i){return s("div",{key:i,staticClass:"q-mx-sm q-pl-lg q-mb-sm",staticStyle:{"margin-left":"25%"}},e._l(t.attachments,(function(t,i){return s("div",{key:i,staticClass:"q-px-md revchat-sent relative-position"},[s("q-img",{staticClass:"w-100 h-250",attrs:{src:t.poster}}),e.messageLoading?s("img",{staticClass:"fa-spin icon-rev-sm",staticStyle:{position:"absolute",top:"50%",left:"50%"},attrs:{loading:"lazy",src:"/img/icons/primary/"+e.mode+"/spin-clock.png"}}):e._e()],1)})),0)})),Object.keys(e.selected_user).length>0?s("div",[1==e.selected_user.block?s("div",{staticClass:"text-rev q-pa-md text-center text-h6 float-chat-input"},[e._v("\n                     You cannot reply to this conversation.\n                   ")]):s("div",{staticClass:"float-chat-input"},[s("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"0 !important"}},[e.attachments.length>0?s("div",{staticClass:"row q-pa-md msg-attachment"},e._l(e.attachments,(function(t,i){return s("div",{key:i,staticClass:"col-sm-4"},[s("div",{staticStyle:{position:"relative"}},["image"==t.mediaType?[s("img",{staticStyle:{"max-width":"inherit",width:"75px",height:"75px","border-radius":"5px",border:"1px solid #e1e1e1"},attrs:{src:t.src}})]:[s("RevPlayer",{attrs:{obj_video:{type:t.mediaType,poster:t.poster,src:t.src},settings:{events:!0,autoplay:!0,fullscreen:!0}}})],s("q-btn",{staticClass:"red-10",staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{flat:"",icon:"fa fa-times",size:"sm"},on:{click:function(t){return e.removeMedia(e.i)}}})],2)])})),0):e._e(),e.curr_selected_message?s("div",{staticClass:"msg-reply",class:e.curr_selected_message?"q-pa-sm":"",attrs:{parentReply:""}},[s("q-avatar",{staticClass:"q-px-md q-mr-xs avatar-thumb-sm",attrs:{slot:"avatar",rounded:""},slot:"avatar"},[s("img",{attrs:{loading:"lazy",src:e.$revfunc.profileImg(e.curr_selected_message.sender.profile_img,e.curr_selected_message.sender.userId)}})]),s("div",{staticClass:"text-right",staticStyle:{float:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fa fa-times",size:"sm"},on:{click:function(){e.curr_selected_message=!1}}})],1),s("span",{staticClass:"q-ml-sm message"},[e._v(e._s(e._f("ellipsis")(e.curr_selected_message.message.message,75)))])],1):e._e(),s("div",{staticClass:"container p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.writeChatReply,expression:"writeChatReply"}],ref:"commentText",staticClass:"form-control py-1",staticStyle:{"min-height":"50px"},attrs:{placeholder:"Write your reply here..."},domProps:{value:e.writeChatReply},on:{input:[function(t){t.target.composing||(e.writeChatReply=t.target.value)},function(t){return e.checkHash(t)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSendMessage(t)}}})]),s("div",{staticClass:"add-options-message container q-py-md"},[s("div",{staticClass:"row"},[s("button",{staticClass:"upload-btn-wrapper q-pl-md flat",attrs:{type:"button"},on:{mouseover:function(t){return e.hover("emoji","iconemoji",t,!1)},mouseout:function(t){return e.unhover("emoji","iconemoji",t,!1)}}},[s("twemoji-picker",{ref:"emojipicker",staticClass:"q-pl-xs",attrs:{enableSendBtn:"true",idTextarea:"writeChatReply",pickerWidth:450,emojiData:e.emojiDataAll,emojiGroups:e.emojiGroups,skinsSelection:!1,searchEmojisFeat:!0,pickerCloseOnClickaway:!0,searchEmojiPlaceholder:"Search here.",searchEmojiNotFound:"Emojis not found.",isLoadingLabel:"Loading...",pickerAutoflip:!1},on:{emojiUnicodeAdded:e.emojiUnicodeAdded},scopedSlots:e._u([{key:"twemoji-picker-button",fn:function(){return[s("img",{ref:"iconemoji",staticClass:"icon-rev-md-small",attrs:{src:"/img/icons/primary/"+e.mode+"/emoji.png"}})]},proxy:!0}],null,!1,302444355)}),s("q-tooltip",{staticClass:"bg-primary",attrs:{anchor:"top middle",self:"bottom middle",offset:[10,0]}},[e._v("\n                              Emoji\n                           ")])],1),s("button",{staticClass:"options-message upload-btn-wrapper q-pl-md flat",attrs:{type:"button"},on:{mouseover:function(t){return e.hover("camera","iconcamera",t,!1)},mouseout:function(t){return e.unhover("camera","iconcamera",t,!1)}}},[s("q-input",{staticClass:"file-input",attrs:{accept:e.IMAGE_ACCEPT,filled:"",type:"file",multiple:""},on:{input:function(t){e.file=t},change:function(t){return e.chooseImage("image")},click:function(t){return e.resetOldFile(t)}}}),e.submitting_image?s("i",{staticClass:"fas fa-spinner fa-1-5x fa-spin text-rev"}):s("img",{ref:"iconcamera",staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/"+e.mode+"/camera.png"}}),s("q-tooltip",{staticClass:"bg-primary",attrs:{anchor:"top middle",self:"bottom middle",offset:[10,-5]}},[e._v("\n                             Image\n                           ")])],1),s("button",{staticClass:"options-message upload-btn-wrapper q-pl-md flat",attrs:{type:"button"},on:{mouseover:function(t){return e.hover("camcorder","iconcamcorder",t,!1)},mouseout:function(t){return e.unhover("camcorder","iconcamcorder",t,!1)}}},[s("q-input",{staticClass:"file-input",attrs:{accept:e.VIDEO_ACCEPT,filled:"",type:"file",multiple:""},on:{input:function(t){e.file=t},change:function(t){return e.chooseImage("video")},click:function(t){return e.resetOldFile(t)}}}),e.submitting_video?s("i",{staticClass:"fas fa-spinner fa-1-5x fa-spin text-rev"}):s("img",{ref:"iconcamcorder",staticClass:"icon-rev-md",attrs:{src:"/img/icons/primary/"+e.mode+"/camcorder.png"}}),s("q-tooltip",{staticClass:"bg-primary",attrs:{anchor:"top middle",self:"bottom middle",offset:[10,-5]}},[e._v("\n                              Video\n                           ")])],1),s("Giphy",{on:{"update:showMedia":e.showMedia}}),s("q-space"),s("button",{staticClass:"q-mr-md flat",attrs:{disabled:e.isDisabled,type:"button",id:"sendChatReply"},on:{click:function(t){return e.onSendMessage()},mouseover:function(t){return e.hover("send","iconsend",t)},mouseout:function(t){return e.unhover("send","iconsend",t)}}},[s("img",{ref:"iconsend",staticClass:"icon-rev-lg",staticStyle:{"margin-top":"0 !important"},attrs:{src:"/img/icons/primary/common/send.png"}})])],1)])])])]):e._e()],2)])])])])])]),s("q-dialog",{attrs:{position:"right","full-height":""},on:{hide:function(t){e.group_info_dlg=!1}},model:{value:e.group_info_dlg,callback:function(t){e.group_info_dlg=t},expression:"group_info_dlg"}},[s("q-card",{staticClass:"q-px-lg ui-block",staticStyle:{width:"350px"}},[s("div",{staticClass:"row"},[s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),1==e.selected_user.groupType?s("div",[e._l(e.selected_user.members,(function(t,i){return s("div",{key:i},[s("q-card-section",{staticClass:"text-center",on:{click:function(){return e.$router.push("/"+t.username)}}},[s("div",{staticClass:"thumg-img relative-position m-auto"},[s("img",{staticClass:"w-100 theme-border",attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.profile_img,t.userId)}}),"none"!=t.badge?s("img",{staticClass:"revbadge-sm",staticStyle:{position:"absolute",right:"-8px","border-radius":"0",bottom:"-4px"},attrs:{src:"none"!=t.badge?"/img/badges/"+t.badge+".png":"",alt:"author"}}):e._e()]),s("div",{staticClass:"text-h6 ellipsis"},[e._v("\n               "+e._s(t.profile_name)+"\n             ")]),s("span",{staticClass:"text-rev username"},[e._v("@"+e._s(t.username))])])],1)})),s("q-card-actions",[1==e.selected_user.block?s("div",{staticClass:"full-width"},[1==e.selected_user.meBlocker?s("div",[s("button",{staticClass:"btn btn-secondary full-width",on:{click:function(t){return e.onUnBlockMember(e.selected_user.groupId)}}},[e._v("\n                 Unblock\n               ")])]):e._e()]):s("div",{staticClass:"full-width"},[s("button",{staticClass:"btn btn-secondary full-width",on:{click:function(t){return e.onBlockMember(e.selected_user.groupId)}}},[e._v("\n               Block\n             ")])]),1==e.selected_user.mute?s("div",{staticClass:"full-width"},[s("button",{staticClass:"btn btn-secondary full-width",on:{click:function(t){return e.onMuteRoom(e.selected_user.groupId,0)}}},[e._v("\n               Unmute\n             ")])]):s("div",{staticClass:"full-width"},[s("button",{staticClass:"btn btn-secondary full-width",on:{click:function(t){return e.onMuteRoom(e.selected_user.groupId,1)}}},[e._v("\n               Mute\n             ")])]),s("button",{staticClass:"btn btn-primary full-width",on:{click:function(){e.dlg_delete_msg=!0}}},[e._v("\n             Delete\n           ")])])],2):e._e(),0==e.selected_user.groupType?s("div",[s("q-card-section",{staticClass:"text-center px-0"},[s("div",{staticStyle:{position:"relative",width:"fit-content",margin:"auto"}},[s("img",{staticClass:"thumg-img theme-border",attrs:{loading:"lazy",src:e.selected_user.groupImage?e.selected_user.groupImage:e.$revfunc.baseurl()+"assets/images/logo.png"}}),e.isAccessEdit?s("a",{staticClass:"float-btn",on:{click:function(t){return e.$refs.filegroupimg.$el.click()}}},[s("img",{staticClass:"icon-rev-xs",attrs:{src:"/img/icons/primary/common/profilecamera.png"}})]):e._e(),s("ImageCrop",{ref:"ImageCropRef",attrs:{open:e.crop_modal_open},on:{"update:open":function(t){e.crop_modal_open=t},"update:group_info_dlg":function(t){e.group_info_dlg=t},"update:other_data":e.updateGroupData}}),s("q-input",{ref:"filegroupimg",staticClass:"file-input",attrs:{accept:e.IMAGE_ACCEPT,type:"file",name:""},on:{input:function(t){e.file=t[0]},change:function(t){return e.$refs.ImageCropRef.onClicked("group_image",e.file,{gid:e.selected_user.groupId})}}})],1),s("div",{staticClass:"text-h6"},[e._v("\n             "+e._s(e._f("ellipsis")(e.selected_user.groupName,25))+"\n             "),e.isAccessEdit?s("span",[s("a",{staticClass:"more",on:{click:function(){return e.isEdit=!e.isEdit}}},[s("img",{staticClass:"icon-rev-xs",attrs:{src:"/img/icons/primary/"+e.mode+"/edit.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                   Edit Group Name\n                 ")])],1)]):e._e()]),e.isEdit?s("div",{staticClass:"q-mt-sm"},[s("div",{staticClass:"form-group with-button input-bg"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.group_name,expression:"group_name"}],staticClass:"form-control js-user-search my-js-user-search",attrs:{placeholder:"Group Name",type:"text"},domProps:{value:e.group_name},on:{input:function(t){t.target.composing||(e.group_name=t.target.value)}}}),e.loading?s("button",{staticClass:"q-mr-xl bg-none"},[s("i",{staticClass:"fa-2x fas fa-spinner fa-spin text-rev"})]):e._e(),s("button",{staticClass:"bg-none",staticStyle:{right:"5px"},on:{click:function(t){return e.changeGroupInfo(e.selected_user.groupId)}}},[s("i",{staticClass:"fa-2x fas fa-save text-rev",attrs:{alt:"user"}})])])]):e._e()]),e.isAccessEdit?s("div",{staticClass:"text-center"},[s("button",{staticClass:"flat text-rev full-width",on:{click:function(t){e.new_chat_memberid=[],e.search_user="",e.dialog=!0,e.msg_type="add-member"}}},[e._v("\n               Add people\n             ")])]):e._e(),s("q-card-section",{staticClass:"px-0"},[s("h6",{staticClass:"q-py-sm"},[e._v("Group Members")]),e._l(e.selected_user.members,(function(t,i){return s("div",{key:i},[s("div",{staticClass:"post__author author vcard inline-items rev-bb q-py-sm mb-1"},[s("div",{staticClass:"relative-position"},[s("img",{staticClass:"rounded avatar-thumb-sm c-pointer",attrs:{loading:"lazy",src:e.$revfunc.profileImg(t.profile_img,t.userId),alt:t.username}}),"none"!=t.badge?s("img",{staticClass:"revbadge-msg",staticStyle:{position:"absolute",right:"-8px","border-radius":"0",bottom:"0"},attrs:{src:"none"!=t.badge?"/img/badges/"+t.badge+".png":""}}):e._e()]),s("div",{staticClass:"author-date",on:{click:function(){return e.$router.push("/"+t.username)}}},[s("a",{staticClass:"h6 post__author-name fn",on:{click:function(){return e.$router.push("/"+t.username)}}},[e._v("\n                   "+e._s(e._f("ellipsis")(t.profile_name,15))+"\n                 ")]),s("div",{staticClass:"text-rev"},[e._v("@"+e._s(t.username))])]),s("div",{staticStyle:{float:"right"}},[t.is_admin?s("div",{staticClass:"text-rev q-px-sm bb-all q-mb-xs"},[e._v("\n                   Admin "+e._s(String(t.is_admin))+"\n                 ")]):e._e(),t.userId!=e.me_detail.userId&&e.isAccessEdit?s("div",{staticClass:"display-flex"},["1"!=t.is_admin?s("div",[s("a",{staticClass:"more mr-0",on:{click:function(s){return e.ondeleteMember(e.selected_user.groupId,t.userId)},mouseover:function(t){return e.hover("delete","icondelete",t,!1)},mouseout:function(t){return e.unhover("delete","icondelete",t,!1)}}},[s("img",{ref:"icondelete",refInFor:!0,staticClass:"icon-rev-xs",staticStyle:{height:"auto","border-radius":"inherit","margin-right":"0"},attrs:{src:"/img/icons/primary/"+e.mode+"/delete.png"}}),s("q-tooltip",{attrs:{offset:[15,5]}},[e._v("\n                         Remove Member\n                       ")])],1)]):e._e(),e.groupAdminLimit<2||"2"==t.is_admin?s("div",{staticClass:"more q-mb-md q-ml-sm mr-0",on:{mouseover:function(t){return e.hover("more-dropdown","iconmoredropdown",t,!1)},mouseout:function(t){return e.unhover("more-dropdown","iconmoredropdown",t,!1)}}},[s("img",{ref:"iconmoredropdown",refInFor:!0,staticStyle:{height:"initial","border-radius":"initial","margin-right":"0",width:"28px"},attrs:{src:"/img/icons/primary/"+e.mode+"/more-dropdown.png"}}),s("ul",{staticClass:"ui-block more-dropdown postcard"},[s("li",["2"==t.is_admin?s("a",{on:{click:function(s){return s.stopPropagation(),e.onMakeAdmin(t.userId,0)}}},[e._v("\n                           Dismiss as Admin 2\n                         ")]):s("a",{on:{click:function(s){return s.stopPropagation(),e.onMakeAdmin(t.userId,2)}}},[e._v("\n                           Make Group Admin 2\n                         ")])])])]):e._e()]):e._e()])])])}))],2),s("q-card-actions",[s("div",{staticClass:"w-100"},[s("button",{staticClass:"btn btn-primary rev-btn rev-btn-text full-width",on:{click:function(){e.leave_group_dlg=!0}}},[e._v("\n               Exit & Delete Group\n             ")])]),s("button",{staticClass:"btn btn-primary rev-btn rev-btn-text full-width",on:{click:function(){e.report_group_dlg=!0}}},[e._v("\n             Report Group\n           ")])])],1):e._e()])],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.leave_group_dlg,callback:function(t){e.leave_group_dlg=t},expression:"leave_group_dlg"}},[s("q-card",{staticClass:"ui-block",staticStyle:{width:"400px","overflow-x":"hidden"}},[s("q-card-section",{staticClass:"row q-px-lg q-py-xs"},[s("div",{staticClass:"text-h6"},[e._v("Exit & Delete Group")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),s("q-separator"),s("q-card-section",{staticClass:"q-px-md text-bold"},["1"==e.isAccessEdit&&1==e.groupAdminLimit?s("div",[e._v("\n           You are the main admin for this group, if you would like to forfeit your admin privileges or exit the group, please select another user to take your place.\n         ")]):"2"==e.isAccessEdit?s("div",[e._v("\n           You are the second admin for this group, please inform the main group Admin that you will be existing the group.\n         ")]):s("div",{},[e._v("Are you sure to Exit & Delete from this group ?")])]),s("q-separator"),s("q-card-actions",{staticClass:"q-gutter-sm",attrs:{align:"right"}},["1"==e.isAccessEdit&&1==e.groupAdminLimit?s("div",{staticClass:"q-mr-md"},[s("button",{staticClass:"btn btn-secondary mb-0",on:{click:function(){return e.leave_group_dlg=!1}}},[e._v("\n             Ok\n           ")])]):s("div",{staticClass:"q-mr-md"},[s("button",{staticClass:"btn btn-secondary mb-0 q-mr-sm",on:{click:function(){return e.leave_group_dlg=!1}}},[e._v("\n             No\n           ")]),s("button",{staticClass:"btn btn-primary rev-btn rev-btn-text mb-0",attrs:{disabled:e.initiatedRequest},on:{click:function(t){return e.onLeaveGroup()}}},[e._v("\n             Confirm\n           ")])])])],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.dlg_delete_msg,callback:function(t){e.dlg_delete_msg=t},expression:"dlg_delete_msg"}},[s("q-card",{staticClass:"ui-block",staticStyle:{width:"400px","overflow-x":"hidden"}},[s("q-card-section",{staticClass:"row q-px-lg q-py-xs"},[s("div",{staticClass:"text-h6"},[e._v("Delete Chat")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),s("q-separator"),s("q-card-section",{staticClass:"q-px-md text-bold"},[s("div",{},[e._v("Are you sure to Delete Messages ?")])]),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("div",{staticClass:"q-mr-md"},[s("button",{staticClass:"btn btn-secondary mb-0 q-mr-sm",on:{click:function(){return e.dlg_delete_msg=!1}}},[e._v("\n             No\n           ")]),s("button",{staticClass:"btn btn-primary rev-btn rev-btn-text mb-0",attrs:{disabled:e.initiatedRequest},on:{click:function(t){return e.onDeleteChat()}}},[e._v("\n             Delete\n           ")])])])],1)],1),s("ReportDialogue",{attrs:{id:e.selected_user.groupId,report_dlg:e.report_group_dlg,report_type:"msg_group",label_report_preset:"",label_report_type:"Report Group"},on:{closeDialog:function(t){e.report_group_dlg=t},closeDialogOnly:function(t){e.report_group_dlg=t}}}),s("ReportDialogue",{attrs:{id:e.report_message_id,report_dlg:e.report_message_dlg,report_type:"message",label_report_preset:"Please select what is wrong with this message",label_report_type:"Report message"},on:{closeDialog:function(t){e.report_message_dlg=t},closeDialogOnly:function(t){e.report_message_dlg=t}}}),s("q-dialog",{attrs:{persistent:"","full-height":"",position:"left"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("q-card",{staticClass:"column full-height ui-block infinite-scroller",staticStyle:{width:"400px"}},[s("div",{staticClass:"q-py-xs"},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"flat",on:{click:function(){e.dialog=!1}}},[s("i",{staticClass:"fa fa-2x fa-times"})])]),s("div",{staticClass:"q-px-md"},[s("div",{staticClass:"text-h6 text-center"},[e._v(" REVchat ")])])]),s("q-separator"),s("q-card-section",{staticClass:"col q-pt-sm"},[s("div",{staticClass:"form-group with-button input-bg mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search_user,expression:"search_user"}],staticClass:"form-control",staticStyle:{padding:"10px"},attrs:{loading:e.loadingState,filled:"",dense:"",placeholder:"Search"},domProps:{value:e.search_user},on:{input:[function(t){t.target.composing||(e.search_user=t.target.value)},function(t){return e.getConnections()}]}})]),s("div",{staticClass:"text-right mb-3"},["group"==e.msg_type?s("button",{staticClass:"btn w-50 rev-btn rev-btn-text mb-0",attrs:{disabled:e.new_chat_memberid.length<1},on:{click:function(t){return e.revChatWith({})}}},[e._v("\n             Start\n           ")]):e._e()]),s("q-list",[e.my_connections.length>0?s("div",[s("q-infinite-scroll",{attrs:{offset:250,"scroll-target":".q-dialog__inner > div"},on:{load:e.onLoadConnections},scopedSlots:e._u([{key:"loading",fn:function(){return[s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}],null,!1,3159847669)},e._l(e.my_connections,(function(t,i){return s("q-item",{key:i},[s("q-item-section",{staticClass:"relative-position",attrs:{avatar:"",clickable:""},on:{click:function(s){return s.stopPropagation(),e.updateSelected(t)}}},[s("q-img",{staticClass:"rounded",attrs:{src:e.$revfunc.profileImg(t.profile_img,t.userId)}}),"none"!=t.badge?s("img",{staticStyle:{position:"absolute",width:"20px",height:"20px",right:"8px",bottom:"-8px"},attrs:{src:"none"!=t.badge?e.$revfunc.baseurl()+"assets/images/badges/"+t.badge+".png":""}}):e._e()],1),s("q-item-section",{attrs:{top:"",clickable:""},on:{click:function(s){return s.stopPropagation(),e.updateSelected(t)}}},[s("q-item-label",{staticClass:"text-h6"},[e._v("\n                     "+e._s(t.profile_name)+"\n                   ")]),s("q-item-label",{staticClass:"username",staticStyle:{"font-size":"14px"},attrs:{caption:""}},[e._v("\n                     @"+e._s(t.username)+"\n                   ")])],1),s("q-item-section",{attrs:{side:"",top:""}},[s("q-item-label",["group"==e.msg_type?s("q-checkbox",{staticClass:"text-rev",attrs:{val:t.userId,color:"primary"},on:{input:function(){e.initchat=t}},model:{value:e.new_chat_memberid,callback:function(t){e.new_chat_memberid=t},expression:"new_chat_memberid"}}):"add-member"==e.msg_type?s("button",{staticClass:"flat text-rev",on:{click:function(s){return s.stopPropagation(),e.onAddNewMember(t.userId)}}},[e._v("\n                       Add\n                     ")]):s("a",{staticClass:"more has-items",on:{mouseover:function(t){return e.hover("envelope","iconenvelope",t)},mouseout:function(t){return e.unhover("envelope","iconenvelope",t)},click:function(s){return s.stopPropagation(),e.revChatWith(t)}}},[s("img",{ref:"iconenvelope",refInFor:!0,staticClass:"icon-rev-md q-pb-sm q-mb-xs",attrs:{src:"/img/icons/primary/common/envelope.png"}}),s("q-tooltip",{attrs:{anchor:"top left",self:"center right",offset:[10,10],"content-class":"btn-primary"}},[e._v("\n                         REVchat\n                       ")])],1)],1)],1)],1)})),1)],1):s("div",{staticClass:"q-px-md text-center"},[e._v("No Record Found")])])],1)],1)],1),e.show_username_popup?s("UsernamePopup",{attrs:{text:e.writeChatReply,refKey:"#sidechatbox textarea"},on:{handleChange:e.handleSuggestionClick}}):e._e(),s("ShowPopupList",{attrs:{title:"Read By",open:e.seen_popup_open,type:"seen_message_users",other_props:e.seen_other_props},on:{"update:open":function(t){e.seen_popup_open=t}}})],1)},a=[],r=(s("caad"),s("ddb0"),s("2b3d"),s("9861"),s("5319"),s("ad23")),o=s("34ef"),n=(s("e719"),s("4330"),s("0d08")),l=s("2f62"),c=s("8716"),d=s("b35e"),m=s("8497"),u=s("59e4"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.validUrl?s("div",{staticClass:"link-preview",staticStyle:{"margin-bottom":"5px"},on:{click:function(t){return t.stopPropagation(),e.clickEvent()}}},[e.preview_details.is_facebook_url?s("div",[s("iframe",{staticStyle:{border:"none",overflow:"hidden","max-width":"100%",width:"100%"},attrs:{src:"https://www.facebook.com/plugins/post.php?href="+e.curr_url+"&show_text=true&xfbml=1",width:"100%",height:e.height,scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"encrypted-media;"}})]):e.isIframeUrl?s("div",[s("iframe",{staticStyle:{border:"none",overflow:"hidden","max-width":"100%",width:"100%"},attrs:{src:e.curr_url,width:"100%",height:e.height,scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"encrypted-media;"}})]):e.isYoutubeUrl?s("div",[e.loading&&!e.preview_details.tags?s("div",[e._t("loader",(function(){return[s("div",{staticClass:"link-preview-section",style:e.style},[s("div",{staticClass:"link-image-loader",staticStyle:{width:"100%"}},[s("div",{staticClass:"img",staticStyle:{width:"100%"},style:"height:"+e.iHeight})])])]}))],2):s("div",{staticStyle:{position:"relative"}},[e._t("default",(function(){return[e.preview_details.tags.img?s("div",{staticClass:"q-pa-sm ui-block",staticStyle:{"border-radius":"10px"}},[s("img",{staticClass:"q-my-sm",attrs:{loading:"lazy",decode:"async",src:e.preview_details.tags.img,height:"100%"}}),s("PlayButton")],1):e._e()]}))],2)]):[e.loading&&!e.preview_details.tags?e._t("loader",(function(){return[s("div",{staticClass:"link-preview-section",style:e.style},[e._m(0),e._m(1)])]})):e._t("default",(function(){return[s("div",{staticClass:"q-pa-sm ui-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 pr-0"},[e.preview_details.tags.img?s("img",{staticClass:"no-border",attrs:{src:e.preview_details.tags.img,loading:"lazy",width:"100%",decode:"async",alt:"Image"}}):e._e()]),s("div",{staticClass:"col-sm-9"},[s("div",{staticClass:"pointer body-color",attrs:{target:"_blank",rel:"noopener noreferrer"}},[s("div",{staticClass:"mainheading text-h5 q-mb-sm"},[e._v(e._s(e._f("ellipsis")(e.preview_details.tags.title,50)))]),s("div",{staticClass:"text-span"},[e._v(e._s(e._f("ellipsis")(e.preview_details.tags.description,100)))])])])])])]}),{title:e.preview_details.tags.title,img:e.preview_details.tags.img,description:e.preview_details.tags.description,domain:e.preview_details.tags.domain})]],2):e._e()},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"link-description"},[s("div",{staticClass:"domain"},[s("span",{staticClass:"link-url-loader animated-background"},[e._v("facebook.com")])]),s("div",{staticClass:"link-data-loader"},[s("div",{staticClass:"p1 animated-background"},[e._v("\n              Shashank Shekhar\n            ")]),s("div",{staticClass:"p2 animated-background"},[e._v("\n              This is some description\n            ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"link-image-loader"},[s("div",{staticClass:"img"})])}],h=s("802a"),_={name:"ChatLinkPreview",props:{preview_details:{required:!1},height:{required:!1,default:300},post_id:{default:0},openSinglePage:{default:!1}},data(){return{width:"96%",maxWidth:"700px",marginTop:"18px",marginBottom:"18px",marginRight:"auto",marginLeft:"auto",canOpenLink:!0,iHeight:"200px",loading:!1,validUrl:!1,isYoutubeUrl:!1,isFacebookUrl:!1,isIframeUrl:!1}},components:{PlayButton:h["a"]},computed:{curr_url(){if(this.runMounted(),"undefined"!=typeof this.preview_details&&"undefined"!=typeof this.preview_details.tags)return this.preview_details.tags.url},style(){const{width:e,maxWidth:t,marginRight:s,marginLeft:i,marginTop:a,marginBottom:r}=this;return{width:e,maxWidth:t,marginTop:a,marginBottom:r,marginRight:s,marginLeft:i}}},mounted(){this.runMounted()},methods:{...Object(l["d"])("config",["VIB_UPDATE"]),clickEvent(){this.post_id&&this.$emit("updateMyViews"),window.open(this.preview_details.tags.url,"_blank")},updateMediaData(e){if(this.openSinglePage&&this.post_id)return void this.$router.push("/posts/"+this.post_id);let t=[];t.push({type:"youtube",thumb:e.img,id:e.youtube_id}),this.VIB_UPDATE({vib_showLightBox:!0,vib_other_props:{media:t}})},runMounted(){"undefined"!=typeof this.preview_details&&"undefined"!=typeof this.preview_details.tags?(this.validUrl=this.isValidUrl(this.preview_details.tags.url),this.isFacebookUrl=this.preview_details.is_facebook_url,this.isYoutubeUrl=!!this.preview_details.tags.youtube_id,this.isIframeUrl=!!this.preview_details.is_iframe_url):Object.assign(this.$data,this.$options.data())},isValidUrl:function(e){return!!e}}},v=_,f=(s("f1ee"),s("2877")),b=Object(f["a"])(v,p,g,!1,null,"ba85ebbe",null),y=b.exports,C=s("de40"),x=s("57e1"),w=s("2aee"),k=s("7727"),I=s("9162"),q=s("6589"),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("q-card",{staticClass:"q-pa-md"},[s("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(){return e.$emit("update:open",!1)}}}),s("button",{staticClass:"text-capitalize btn-primary btn-md full-width",attrs:{type:"button",align:"center"},on:{click:function(t){return e.saveCanvas()}}},[e.loading?s("i",{staticClass:"fa-2x fas fa-spinner fa-spin text-rev"}):[e._v("\n            Save "),s("i",{staticClass:"fas fa-save"})]],2),s("cropper",{attrs:{"stencil-props":e.ratio,src:e.crop_image},on:{change:e.changeCanvas}})],1)],1)},M=[],T=s("a2c1");s("f7aa");const E={data:function(){return{canvas:!1,image_column:"",loading:!1,crop_image:"",crop_image_bool:!1,ratio:{aspectRatio:1},props:[]}},methods:{...Object(l["b"])("config",["uploadGroupMedia"]),changeCanvas({coordinates:e,canvas:t}){this.canvas=t},async readGraphic(e){try{return new Promise(((t,s)=>{let i=URL.createObjectURL(e),a=new Image;a.addEventListener("load",(e=>{t(a),URL.revokeObjectURL(i)}),!1),this.crop_image=i,this.crop_image_bool=!0}))}catch(t){logger("warn",t,"readGraphic err")}},canvasImage(e,t){"m_cover_img"===e?this.ratio.aspectRatio=16/9:"group_image"===e&&(this.ratio.aspectRatio=1),this.image_column=e,this.readGraphic(t)},saveCanvas(){!this.loading&&this.canvas&&(this.$emit("update:open",!1),this.loading=!0,this.canvas.toBlob((e=>{const t=new FormData;t.append(this.image_column,e),Object.keys(this.props).map((e=>{t.append(e,this.props[e])})),this.uploadGroupMedia(t).then((e=>{this.crop_image_bool=!1,this.canvas=!1,this.loading=!1,this.$emit("update:other_data",e),this.$revfunc.notification(e.message)})).catch((e=>{this.crop_image_bool=!1,this.canvas=!1}))}),"image/jpeg"))}}};var R=E,P={name:"ImageCrop",mixins:[d["a"],R],props:{open:{type:Boolean,default:!1}},components:{Cropper:T["a"]},methods:{onClicked(e,t,s={}){this.$emit("update:open",!0),this.canvasImage(e,t),this.props=s}}},A=P,O=s("24e8"),U=s("f09f"),$=s("9c40"),G=s("eebe"),L=s.n(G),D=Object(f["a"])(A,S,M,!1,null,null,null),j=D.exports;L()(D,"components",{QDialog:O["a"],QCard:U["a"],QBtn:$["a"]});var N=s("55cf"),B={name:"ChatListing",mixins:[d["a"],u["a"],m["a"]],data(){return{show_username_popup:!1,initiatedRequest:!1,VIDEO_ACCEPT:c["j"],IMAGE_ACCEPT:c["d"],crop_modal_open:!1,add_member:!1,curr_selected_message:!1,submitting_image:!1,submitting_video:!1,userId:0,token:"",reinitialeInfinite:!1,fixedTextboxHeight:60,giphys:[],isActive:null,isEdit:!1,attachments:[],loading_msg:!1,leave_group_dlg:!1,dlg_delete_msg:!1,report_group_dlg:!1,dialog_groupchat:!1,group_info_dlg:!1,search_user:"",step:1,writeChatReply:"",selected_group:"",activeGroupId:0,group_name:"",onlineUsers:{},my_connections:[],loading:!1,ifFeching:!1,active_group_details:[],start:0,s_message:0,messageTyping:!0,messageLoading:!1,attachment:[],add_member:!1,report_message_dlg:!1,report_message_id:0,no_chat_text:"Click to Open Chat",start_revchat:[],dialog:!1,new_chat:{},msg_type:null,new_chat_memberid:[],loadingState:!1,seen_popup_open:!1,seen_other_props:{},active:-1}},computed:{filter_queue(){return this.queue.filter((e=>e.groupId==this.activeGroupId))},groupAdminLimit(){let e=0;if(Object.keys(this.selected_user).length>0)for(let t=0;t<this.selected_user.members.length;t++)this.selected_user.members[t].is_admin>0&&(e+=1);return e},isAccessEdit(){let e=!1;if(Object.keys(this.selected_user).length>0)for(let t=0;t<this.selected_user.members.length;t++)this.me_detail.userId==this.selected_user.members[t].userId&&(e=this.selected_user.members[t].is_admin);return e},...Object(l["e"])("queue",["queue"]),...Object(l["e"])("user",["me_detail"]),...Object(l["c"])("chat",["reverse_messages"]),...Object(l["e"])("chat",["active_g_id","messages","selected_user","friends_message_list"]),isDisabled(){return!this.writeChatReply.trim()&&!this.attachments.length},emojiDataAll(){return o},emojiGroups(){return n}},watch:{"$route.params.selected_group"(e,t){this.runMounted()}},mounted(){this.runMounted(),this.messages.length>0&&this.INIT_MSG(),window.viewMember=this.viewMember},components:{TopHeader:x["a"],SideNavProfile:w["a"],TwemojiPicker:r["a"],Giphy:k["a"],ReportDialogue:q["a"],ImageCrop:j,ShowPopupList:C["a"],ChatLinkPreview:y,UsernamePopup:I["a"],RevPlayer:N["a"]},methods:{...Object(l["d"])("queue",["ADD_QUEUE","REMOVE_QUEUE_TIMSET"]),...Object(l["b"])("notifications",["notificationCount"]),...Object(l["d"])("config",["VIB_UPDATE"]),...Object(l["d"])("chat",["INIT_MSG","INIT_GROUP","ACTIVE_GROUP","UPDATE_GROUP","ON_SOCKET_EVENTS","MSG_SEEN"]),...Object(l["b"])("chat",["getAllGroupChat","sendMessage","getMessages","updateGroupDetails","deleteMember","blockMember","unBlockMember","deleteUserChats","leaveGroup","deleteMessage","muteChat","addNewMember","updateGroupActivity"]),...Object(l["b"])("user",["onActionDialog","getMyConnections","reportAction"]),updateSelected(e){this.new_chat_memberid.includes(e.userId)?this.new_chat_memberid=this.new_chat_memberid.filter((t=>t!=e.userId)):this.new_chat_memberid.push(e.userId)},getDefaultResponse(e){const t=this.$revfunc.getUsernamesFromStr(this.writeChatReply);return e.filter((e=>!t.includes("@"+e.username)))},updateGroupData(e){if(e.status){const t={...this.selected_user};t.groupImage=e.groupImage,this.ACTIVE_GROUP(t)}},checkHash(e){const t=this.$revfunc.extractKey(this.writeChatReply,"@",e);t>=0&&(this.show_username_popup=!0)},handleSuggestionClick(e){this.writeChatReply=e.text,mySetTimeout((()=>{this.$refs.commentText.focus(),this.$revfunc.setCaretPosition("#sidechatbox textarea",e.cursor_postition)}),0)},runMounted(){this.userId=this.$q.localStorage.getItem("rev_user").userId,this.token=this.$q.cookies.get("w_token"),this.selected_group="undefined"!=typeof this.$route.params.selected_group?this.$route.params.selected_group:"",this.getGroups(!!this.selected_group),this.getConnections(),this.selected_group&&this.$revfunc.scrollView("#sidelistmsg_"+this.selected_group)},onLoad(e,t){if(!this.activeGroupId||this.loading_msg)return void t();let s={start:this.messages.length,groupId:this.activeGroupId};this.getMessages(s).then((e=>{e.response.length?t():t(!0)})).catch((e=>{}))},hasLightBoxImages(e){return!!e.length},hasLightBoxVideos(e){return!!e.length},onClicked(e,t){let s=[];return t.map((e=>{s.push({thumb:e,src:e})})),this.VIB_UPDATE({vib_showLightBox:!0,vib_other_props:{startAt:e,media:s}}),s},showMedia(e){this.attachments.push({mediaType:"gif",src:e.src,poster:e.poster,toUpload:0,image:e.poster,file:e.src})},removeMedia(e){this.attachments.splice(e,1)},async chooseImage(e="image"){try{for(let t=this.file.length-1;t>=0;t--){let s="";"video"==e&&(s=await this.captureVideoImage(this.file[t]));let i=window.URL.createObjectURL(this.file[t]);this.attachments.push({src:i,poster:s,mediaType:e,toUpload:1,image:"",file:this.file[t]})}}catch(t){logger("warn",t)}},sendToUpload(e){let t=!1,s=[];const i=new FormData;this.attachments.filter((e=>{e.toUpload?(i.append("files[]",e.file),t=!0):s.push(e)}));let a=1;if(t){this.messageLoading=!0;const t=(new Date).getTime();let r=[];this.attachments.map((e=>{r.push({poster:e.src})})),this.ADD_QUEUE({groupId:e.groupId,attachments:r,timeset:t}),this.uploadMediaNoTrack(i,"images").then((r=>{for(let e of i.keys())i.delete(e);if(this.messageLoading=!1,r.status){const t=this.getFile(r);e.image_gallery=t.image_gallery,e.video_gallery=t.video_gallery}else this.$revfunc.notification(r.message),a=0;this.REMOVE_QUEUE_TIMSET(t),s.length&&s.map((t=>{e.video_gallery.push({mediaType:"gif",poster:t.poster,link:t.file})})),a&&this.$socket.client.emit("sendText",e),e=null,this.checkToScroll()})).catch((s=>{e=null,this.REMOVE_QUEUE_TIMSET(t),this.$revfunc.notification("Something went wrong. Please try again"),logger("log",s,"err")}))}else a=1,s.length&&s.map((t=>{e.video_gallery.push({mediaType:"gif",poster:t.poster,link:t.file})})),a&&this.$socket.client.emit("sendText",e),e=null,this.checkToScroll()},checkToScroll(){this.curr_selected_message?this.$revfunc.notification("Message Sent"):this.$revfunc.scrollToTop("chat",1e3)},getFile(e){const t={image_gallery:[],video_gallery:[]};if(e.success_files){let s=this.$revfunc.uploadPath()+"user"+this.me_detail.userId;e.success_files.map((e=>{"videos"===e.suffix?t.video_gallery.push({mediaType:"video",poster:s+"/images/"+e.image,link:e.full_path}):t.image_gallery.push({mediaType:"image",poster:"",link:e.full_path})}))}return t},emojiUnicodeAdded(e){let t=this.$refs.commentText,s=t.selectionStart;this.writeChatReply=[this.writeChatReply.slice(0,s),e,this.writeChatReply.slice(s)].join(""),this.$revfunc.focusInput(t,s+e.length)},activeChat(e){this.activeGroupId&&this.$socket.client.emit("leaveRoom",this.activeGroupId),this.initiatedRequest=!1,this.afterMsgSendInit(),this.loading_msg=!0,this.reinitialeInfinite=this.activeGroupId!=e.groupId&&e.groupId>0,this.MSG_SEEN({groupId:e.groupId}),this.isActive=e.groupId,this.INIT_MSG(),this.activeGroupId=e.groupId,this.ACTIVE_GROUP(e),this.$socket.client.emit("joinRoom",e.groupId),this.$revfunc.onlyUrlChange("/revchat/"+this.activeGroupId,"Chat",{groupId:this.activeGroupId});let t={start:this.messages.length,groupId:e.groupId};try{this.reinitialeInfinite&&this.$refs.chatScroll&&(this.$refs.chatScroll.setIndex(0),this.$refs.chatScroll.reset(),this.$refs.chatScroll.resume(),this.reinitialeInfinite=!1)}catch(s){logger("warn","error",s.message)}this.INIT_MSG(),this.getMessages(t).then((e=>{this.loading_msg=!1,200==e.status.code&&(e.lastMsgSeenId?animateFrame((function(e){if(e){let t=document.querySelector(".message-list-"+e);t&&t.scrollIntoView({block:"center"})}}),200,e.lastMsgSeenId):animateFrame((function(e){e[0](".message-list:last-child")}),200,this.$revfunc.scrollView),this.no_chat_text=e.status.message),this.notificationCount()})).catch((e=>{this.loading_msg=!1}))},startRevChat(e,t=!1,s=!1,i){if(0==navigator.onLine)return void this.$revfunc.notification("Send Failed. No Internet");let a={token:this.token,id_msg_parent:this.curr_selected_message?this.curr_selected_message.message.m_id:0,memberId:this.new_chat};if(t)this.sendMessage(a).then((e=>{201==e.status.code&&this.$revfunc.notification(e.status.message),this.checkToScroll()})).catch((e=>{}));else{let e={image_gallery:[],video_gallery:[],message:this.writeChatReply,id_msg_parent:this.curr_selected_message?this.curr_selected_message.message.m_id:0,_r:String(this.$q.localStorage.getItem("_r"))};s?e.memberId=i:e.groupId=i,this.sendToUpload(e),this.group_dialog=!1}this.afterMsgSendInit()},afterMsgSendInit(){this.curr_selected_message=!1,this.writeChatReply="",this.attachments=[]},getGroups(e=!1){this.INIT_GROUP(),this.$refs.bar.start();let t={start:this.start};this.getAllGroupChat(t).then((t=>{if(this.$refs.bar.stop(),200==t.status.code){this.isActive=0;let s=this.active_g_id,i=!1;(0==s||this.selected_group)&&(this.selected_group?(i=this.friends_message_list.filter((e=>e.groupId==this.selected_group))[0],s=this.selected_group):s=t.response[0].groupId,this.$revfunc.scrollView("#sidelistmsg_"+s)),e&&i&&this.activeChat(i)}})).catch((e=>{}))},getConnections(e=!1,t){this.new_chat_memberid.length?this.my_connections=this.my_connections.filter((e=>this.new_chat_memberid.includes(String(e.userId)))):this.my_connections=[],this.ifFeching=!0;let s={search_by:this.search_user};this.getMyConnections(s).then((e=>{this.ifFeching=!1,e.status&&e.results.length>0&&(e.results=this.removeAlreadySelectedIds(e.results)),e.status&&e.results.length>0&&(this.my_connections=this.my_connections.concat(this.removeAlreadySelectedIds(e.results)))})).catch((e=>{}))},removeAlreadySelectedIds(e){return this.new_chat_memberid.length?e.filter((e=>!this.new_chat_memberid.includes(String(e.userId)))):e},enterSendMessage(e){0==e.shiftKey&&this.onSendMessage()},onSendMessage(){let e=this.activeGroupId;null!==e&&""!==e&&(this.$refs.commentText.focus(),this.startRevChat("",!1,!1,e))},changeGroupInfo(e){this.loading=!0;let t={token:this.token,groupId:e,groupName:this.group_name};this.updateGroupDetails(t).then((e=>{const t={...this.selected_user};t.groupName=this.group_name,this.ACTIVE_GROUP(t),this.loading=!1,this.group_name="",this.isEdit=!1})).catch((e=>{}))},onBlockMember(e){let t={groupId:e};this.blockMember(t).then((e=>{200==e.status.code&&(this.UPDATE_GROUP({key:"block",value:!0}),this.UPDATE_GROUP({key:"meBlocker",value:1}))})).catch((e=>{}))},onUnBlockMember(e){let t={groupId:e};this.unBlockMember(t).then((e=>{200==e.status.code&&this.UPDATE_GROUP({key:"block",value:!1})})).catch((e=>{}))},ondeleteMember(e,t){this.loading=!0;let s={groupId:e,memberId:t};this.deleteMember(s).then((e=>{200==e.status.code&&this.ACTIVE_GROUP(e.response.groupInfo)})).catch((e=>{}))},convertedText(e){return this.replaceURLs(e)},replaceURLs(e){if(e)return e=e.replace(c["b"],(e=>{let t=e;return t.match(c["e"])?t="mailto: "+t:t.match("^https?://")||(t="http://"+t),`<a class="r-link" href="${t}" target="_blank" rel="noopener noreferrer">${e}</a>`})),e.replace(c["c"],(e=>'<a class="username" onclick="window.viewMember(text)">'+e+"</a>"))},viewMember(e){let t=e.replace("@","");this.$router.push("/"+t)},onDeleteChat(){if(this.initiatedRequest)return;this.initiatedRequest=!0;let e={groupId:this.selected_user.groupId,m_id:this.reverse_messages.length?this.reverse_messages[this.reverse_messages.length-1].message.m_id:0};this.deleteUserChats(e).then((e=>{e.status&&(this.$revfunc.notification(e.message),this.dlg_delete_msg=!1,this.group_info_dlg=!1,this.no_chat_text="Click to open chat",this.ON_SOCKET_EVENTS({type:"ON_DELETE_GROUP",groupId:this.selected_user.groupId}),this.INIT_MSG(),this.ACTIVE_GROUP({}),this.goRoute("/revchat")),this.initiatedRequest=!1})).catch((e=>{}))},prepareVideoData(e=0,t,s=0){let i=[];null!==t&&JSON.parse(t).map((e=>{i.push({sources:[{src:this.$revfunc.uploadPath()+"user"+s+"/videos/"+e.filename}],type:"video",caption:"",width:800,height:600,autoplay:!0})})),this.VIB_UPDATE({vib_showLightBox:!0,vib_other_props:{startAt:e,media:i}})},onLeaveGroup(){if(this.initiatedRequest)return;this.initiatedRequest=!0;let e={groupId:this.selected_user.groupId,type:this.isAccessEdit};this.leaveGroup(e).then((e=>{try{e.status&&(this.leave_group_dlg=!1,this.group_info_dlg=!1,this.no_chat_text="Click to open chat",this.ON_SOCKET_EVENTS({type:"ON_DELETE_GROUP",groupId:this.selected_user.groupId}),this.INIT_MSG(),this.ACTIVE_GROUP({}))}catch(t){logger("error",t)}this.initiatedRequest=!1})).catch((e=>{}))},doReply(e){this.curr_selected_message=e,this.$refs.commentText.focus()},doTxtMsgDel(e,t){let s={m_id:e.m_id,g_id:e.receiver,type:t};this.deleteMessage(s).then((t=>{if(logger("log",t,""),200==t.status.code&&0==t.response){let t=document.getElementById("message_"+e.m_id);t&&t.remove(),t=document.getElementById("parent_"+e.m_id),t&&t.remove()}})).catch((e=>{logger("log",e,"")}))},onMuteRoom(e,t){let s={g_id:e,type:t};this.UPDATE_GROUP({key:"mute",value:t}),this.muteChat(s).then((e=>{e.status||this.$revfunc.notification(e.message),this.UPDATE_GROUP({key:"mute",value:e.result})})).catch((e=>{}))},isFirstMessage(e,t){const s=this,i=s.reverse_messages[t-1];return"undefined"==typeof i||i.sender.userId!=e.sender.userId},getMessageClass(e,t){return(this.isFirstMessage(e,t)?"message-first":"")+" "+(this.isLastMessage(e,t)?"message-last":"")+" message-list-"+e.message.m_id},isLastMessage(e,t){const s=this,i=s.reverse_messages[t+1];return"undefined"==typeof i||i.sender.userId!=e.sender.userId},canvasElement(){},onLoadConnections(e,t){let s={start:this.my_connections.length-this.new_chat_memberid.length,search_by:this.search_user};this.getMyConnections(s).then((e=>{e.status&&e.results.length>0&&(e.results=this.removeAlreadySelectedIds(e.results)),e.status&&e.results.length>0?(this.my_connections=this.my_connections.concat(e.results),t()):t(!0)})).catch((e=>{}))},revChatWith(e){this.start_revchat=[],this.dialog=!1,this.new_chat=e,"group"==this.msg_type&&(this.start_revchat=this.new_chat_memberid),this.onActionDialog({key:"chat_dlg",value:!0,user_details:e,start_revchat:this.start_revchat})},onAddNewMember(e){let t={groupId:this.selected_user.groupId,memberId:e};this.addNewMember(t).then((e=>{200==e.status.code&&(this.dialog=!1,this.$q.localStorage.set("ACTIVE_GROUP",e.response.groupInfo),this.ACTIVE_GROUP(e.response.groupInfo))})).catch((e=>{}))},onMakeAdmin(e,t){let s={groupId:this.selected_user.groupId,memberId:e,case:"admin",type:t};this.updateGroupActivity(s).then((e=>{e.status&&(this.$q.localStorage.set("ACTIVE_GROUP",e.groupInfo),this.ACTIVE_GROUP(e.groupInfo))})).catch((e=>{}))}},beforeDestroy(){this.activeGroupId&&this.$socket.client.emit("leaveRoom",this.activeGroupId),this.ACTIVE_GROUP({})}},V=B,Q=(s("da51"),s("7ea5")),F=s("4d5a"),z=s("05c0"),J=s("ef35"),H=s("8169"),W=s("8380"),K=s("068f"),Y=s("cb32"),X=s("27f9"),Z=s("2c91"),ee=s("a370"),te=s("4b7e"),se=s("eb85"),ie=s("1c1c"),ae=s("66e5"),re=s("4074"),oe=s("0170"),ne=s("8f8e"),le=s("8572"),ce=s("7f67"),de=Object(f["a"])(V,i,a,!1,null,"a108c222",null);t["default"]=de.exports;L()(de,"components",{QAjaxBar:Q["a"],QLayout:F["a"],QTooltip:z["a"],QInfiniteScroll:J["a"],QChatMessage:H["a"],QSpinnerDots:W["a"],QImg:K["a"],QBtn:$["a"],QAvatar:Y["a"],QInput:X["a"],QSpace:Z["a"],QDialog:O["a"],QCard:U["a"],QCardSection:ee["a"],QCardActions:te["a"],QSeparator:se["a"],QList:ie["a"],QItem:ae["a"],QItemSection:re["a"],QItemLabel:oe["a"],QCheckbox:ne["a"],QField:le["a"]}),L()(de,"directives",{ClosePopup:ce["a"]})},8726:function(e,t,s){},b2de:function(e,t,s){},da51:function(e,t,s){"use strict";s("8726")},f1ee:function(e,t,s){"use strict";s("b2de")}}]);